
;(function(){
var WIDGET_SETTINGS = {
    cssOrigin: '//gosbar.gosuslugi.ru',
    catalogOrigin: '//gosbar.gosuslugi.ru',
    trackerHostName: 'piwik-gosbar.gosuslugi.ru',

    sputnikSuggest: 'http://sgs.sputnik.ru',
    sputnikSearchAPI: 'http://gov.sputnik.ru/api',
    sputnikEpguAPI: 'http://epgu.sputnik.ru/api',

    checkHostnameURL: 'https://gosbar.gosuslugi.ru',
    portalURL: 'https://www.gosuslugi.ru'
};

/*! Build:ck0ryr8sm0000eqet5f9fc7xv */
!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){function i(t){return a?a:(t||(t={}),a=new Promise(function(e,n){s.each(u["default"],function(t,e){c.defineTemplate(e,t)}),h.loadLocalesData(d["default"]);var i;try{i=l["default"](t)}catch(r){throw new Error("Parsing config: "+r)}var o=[{rel:"preconnect",href:"//"+i.trackerHostname+"/"},{rel:"preconnect",href:i.catalogOrigin+"/"},{rel:"prefetch",href:i.cssOrigin+"/widget/widget-style.css?fh=5beaf97e9fae22652910154ea6cc7647"}];o.map(f.createLink).forEach(function(t){return document.head.appendChild(t)});var a;a=v.applyMiddleware(y)(v.createStore),i.store=a(C["default"]),p.setApiOrigin(i.catalogOrigin),p.setEmulateForbidden(!!t.debugEmulateForbiddenWarning);try{var _=new g["default"](i);_.on(m.WIDGET_EVENTS.INIT_SUCCESS,function(){try{e(_.getManager())}catch(t){n(new Error("Get widget manager: "+t))}}),_.run()}catch(r){throw new Error("Running widget: "+r)}}),a["catch"](function(t){console.error("widgetReady error",t)}),a)}var r=n(40);r.polyfill();var o=n(41);o.polyfill();var a,s=n(1),c=n(2),u=n(71),l=n(56),h=n(7),p=n(9),d=n(52),f=n(6),g=n(65),m=n(4),v=n(13),y=n(45),C=(n(44),n(60)),_=window._govWidget;_.manualInitMode?window.Gosbar={init:function(t){return i(t)}}:i(_)},function(t,e,n){function i(t,e,n){var i,r,o,a;if(null==t)return!1;if(D&&t.forEach===D)t.forEach(e,n);else if(t.length===+t.length)for(r=i=0,o=t.length;o>i;r=++i)a=t[r],e.call(n,a,r,t);else for(r in t)k.call(t,r)&&(a=t[r],e.call(n,a,r,t));return!0}function r(t){return Object.freeze?Object.freeze(t):t}function o(t){try{switch(t){case"true"===t:return!0;case"false"===t:return!1;case"null"===t:return null;case t=+t+"":return+t;case M.test(t):return JSON.parse(t);default:return t}}catch(e){}}function a(t){return"[object String]"===N.call(t)}function s(t){return"[object Number]"===N.call(t)}function c(t){return"[object Date]"===N.call(t)}function u(t){return"[object RegExp]"===N.call(t)}function l(t){return(j||function(t){return"[object Array]"===N.call(t)})(t)}function h(t){return e.winObj.location.assign(t),!0}function p(t,e,n){var r=[];return i(t,function(){r.push(e.apply(n,arguments))},n),r}function d(t,e){return e=null!=e?e:{"&#13;":"\n"},(""+t).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,e).replace(/[\r\n]/g,e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return null!=t?P.concat.apply(t,e):[]}function g(t,e){void 0===e&&(e=!0);var n;return A[t]&&e?A[t]:a(t)?(n=t.replace(H,"ms-").replace(W,U),e&&(A[t]=n),n):""}function m(t){return null!=t&&t===t.window}function v(t){return null!=t&&9===t.nodeType}function y(t){return t===Object(t)}function C(t){return!(!t||1!==t.nodeType)}function _(t){return s(t)&&t!==+t}function E(t){return t===!0||t===!1}function S(t){return G(t)&&G(t.toString)?t.toString().indexOf("[native code]")>-1:!1}function b(t){return"/"===t.charAt(t.length-1)?t:t+"/"}function w(t){return t===window.location.href||t===window.location.pathname}function T(t,e){var n={},i=0;if("object"!=typeof t)return n;for(var r=e.length;r--;){var o=e[i++];o in t&&(n[o]=t[o])}return n}function O(t){return a(t)?t.trim().replace("#",""):t}function I(t){return t=O(t),t=t.replace(/^\//,"").replace(/\/$/,""),""===t?[]:t.split("/")}var k={}.hasOwnProperty,A=([].slice,{});e.winObj=window,e.docObj=e.winObj.document;var P=Array.prototype,R=Object.prototype,x=String.prototype,L=(x.trim,R.hasOwnProperty),N=R.toString,D=P.forEach,j=Array.isArray,M=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,U=function(t,e){return e.toUpperCase()},H=/^-ms-/,W=/-([\da-z])/gi;e.each=i,e.freezeObject=r,e.parseData=o,e.isString=a,e.isNumber=s,e.isDate=c,e.isRegExp=u;var G=function(t){return"[object Function]"===N.call(t)};e.isFunction=G,G=function(t){return"function"==typeof t};var F=function(t){return"[object Arguments]"===N.call(t)};e.isArguments=F,function(){F(arguments)||(F=function(t){return!(!t||!L.call(t,"callee"))})}(),e.isArray=l,e.redirect=h,e.map=p,e.escapeAttrs=d,e.union=f,e.camelCase=g,e.isWindow=m,e.isDocument=v,e.isObject=y,e.isElement=C,e.isNan=_,e.isBoolean=E,e.isNativeFunction=S,e.preparePath=b,e.linkIsActive=w,e.pick=T,e.cleanUrl=O,e.segmentUrl=I},function(t,e,n){function i(t,e){if(void 0===e&&(e={}),!c[t])throw Error("Template not found: "+t);return c[t].call(u,e)}function r(t,e){c[t]=e}var o=n(11),a=n(7),s=n(1),c={},u={render:i,support:o.support,i18n:a.i18n,getLocale:a.getLocale,isObject:s.isObject,isArray:s.isArray,escapeAttrs:s.escapeAttrs};e.render=i,e.defineTemplate=r},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(5),o=function(t){function e(e,n){t.call(this),this.composer=n,this.element=n.getComponentElement().byId(e)}return i(e,t),e.prototype.getComponentElement=function(){return this.element},e.prototype.getComposer=function(){return this.composer},e}(r.Abstract);e.AbstractWidgetComponent=o},function(t,e){e.DEFAULT_SETTINGS=function(t){for(var e=["cssOrigin","catalogOrigin","trackerHostName","sputnikSuggest","sputnikSearchAPI","sputnikEpguAPI","checkHostnameURL","portalURL"],n={},i=0;i<e.length;i++){var r=e[i],o=t[r];o?n[r]=o:console.error('"'+r+'" is undefined')}return n}(WIDGET_SETTINGS!==window.WIDGET_SETTINGS?WIDGET_SETTINGS:{}),e.SUPPORTED_LANGUAGES={ru:!0,en:!0,es:!0,zh:!0,fr:!0,pt:!0,ja:!0,de:!0,it:!0,uk:!0,crh:!0},e.IFRAMESTYLE={background:"transparent none repeat scroll 0 0",border:"0","border-image":"none","border-radius":"0",bottom:"0","box-shadow":"none","box-sizing":"content-box",cursor:"auto",filer:"none","float":"none",margin:"0","max-height":"none","max-width":"none","min-height":"0","min-width":"0",opacity:"1",overflow:"hidden",outline:"none",padding:"0",right:"auto",transform:"none",visibility:"visible",zoom:"normal",top:"0px",left:"0px",height:"50px",width:"100%",position:"absolute","z-index":"2147473647"},e.WIDGET_EVENTS={INIT_SUCCESS:"INIT_SUCCESS",IFRAME_RESIZED:"IFRAME_RESIZED"},e.SCREEN_MODE={NORMAL:"NORMAL",FULLSCREEN:"FULLSCREEN"},e.SUPPORTED_THEMES={darkblue:!0,blue:!0,gray:!0}},function(t,e){var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){var i=this._events[t]||(this._events[t]=[]);return i.push({name:t,cb:e,ctx:n||this}),this},t.prototype.off=function(t,e,n){var i,r,o,a,s;if(null==this._events)return this;if(null==t&&null==e&&null==n)return this._events={},this;if(r=this._events[t]){if(e||n)for(this._events[t]=s=[],o=0,a=r.length;a>o;o++)i=r[o],(e&&e!==i.cb||n&&n!==i.ctx)&&s.push(i);else this._events[t]=[];0===this._events[t].length&&delete this._events[t]}return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r,o,a,s,c,u;if(null==this._events)return this;if(null!=(o=this._events[t])&&"all"!==t)for(a=0,c=o.length;c>a;a++)r=o[a],r.cb.apply(r.ctx,e);if(null!=(i=this._events.all))for(s=0,u=i.length;u>s;s++)r=i[s],r.cb.apply(r.ctx,arguments);return this},t}();e.Abstract=n},function(t,e,n){function i(t,e){var n,i,r,o,a;if(null==e&&(e=O.docObj),null!=e.length&&(e=e[0]),O.isDocument(e))i=e.getElementById(t),r=i?[i]:[];else if(O.isFunction(e.querySelector))r=[e.querySelector("#"+t)];else for(n=e.getElementsByTagName("*"),o=0,a=n.length;a>o;o++)if(i=n[o],i.getAttribute("id")===t)return new k.DomObj([i]);return new k.DomObj(r)}function r(t,e){var n;return null==e&&(e=O.docObj),null==e.length&&(e=[e]),n=O.map(e,function(e){var n,i,r,o,a,s,c,u,l;if(O.isFunction(e.getElementsByClassName))for(r=[],l=e.getElementsByClassName(t),o=0,s=l.length;s>o;o++)i=l[o],r.push(i);else for(r=[],u=new RegExp("(^| )"+t+"( |$)"),n=e.getElementsByTagName("*"),a=0,c=n.length;c>a;a++)i=n[a],u.test(i.className)&&r.push(i);return r}),new k.DomObj(O.union.apply(this,n))}function o(t){var e=document.createElement("div");if(O.isElement(t)||O.isWindow(t)||O.isDocument(t))return new k.DomObj(null!=t.length?t:[t]);O.isArray(t)?O.each(t,function(t){c(o(t),e)}):a(e,""+t);var n=O.map(e.childNodes,function(t){return s(t),t});return new k.DomObj(n)}function a(t,e){return t.innerHTML=e,t}function s(t){return t.parentNode&&t.parentNode.removeChild(t),t}function c(t,e){var n;return n=null!=t.length?t:[t],O.each(n,function(t){return e.appendChild(t)}),t}function u(t,e){var n,i,r,o;for(n=null!=t.length?t:[t],r=e.firstChild,o=n.length-1;o>=0;o+=-1)i=n[o],r?e.insertBefore(i,r):(c([i],e),r=i);return t}function l(t){var e;return e=O.map(t.childNodes,function(t){return t}),O.each(e,function(t){return s(t)},this),t}function h(t){var e;return null==t?null:(e=t.nextSibling,e&&O.isElement(e)?e:null!=e&&e.nextSibling?h(e):null)}function p(t){var e;return null==t?null:(e=t.previousSibling,e&&O.isElement(e)?e:null!=e&&e.previousSibling?p(e):null)}function d(t,e){var n,i;return i=e.toLowerCase(),t&&t.tagName?(n=t.tagName.toLowerCase(),n===i?t:"html"===n?n===i?t:null:null!=t.parentNode?d(t.parentNode,i):null):null}function f(t,e){return e=I.support[e]||e,t.style[e]?t.style[e]:O.docObj.defaultView&&O.docObj.defaultView.getComputedStyle?O.docObj.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle?(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),t.currentStyle[e]):void 0}function g(t,e,n){return e=O.camelCase(e),e=I.support[""+e]||e,t.style[e]=n,!0}function m(t,e,n){return O.isString(e)&&null!=n?g(t,e,n):O.each(e,function(e,n){return g(t,n,e)}),t}function v(t,e,n){var i=O.map(e,function(t,e){return e+":"+t+(n?" !important":"")}).join(";");return null!=t.style.cssText?t.style.cssText=i:t.setAttribute("style",i),t}function y(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),r=O.docObj.body,o=O.docObj.documentElement,a=window.pageYOffset||o.scrollTop||r.scrollTop,s=window.pageXOffset||o.scrollLeft||r.scrollLeft,c=o.clientTop||r.clientTop||0,u=o.clientLeft||r.clientLeft||0;n=i.top+a-c,e=i.left+s-u}else for(n=0,e=0;t;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{top:n,left:e}}function C(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");return n.test(t.className)}function _(t,e){return C(t,e)?t:(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""),t)}function E(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");return t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,""),t}function S(t,e,n){return n?_(t,e):n?void 0:E(t,e)}function b(t,e){if(!t)throw new Error("attemt to scroll missed element");var n=(t.scrollTop||t.clientTop)+30*e;O.isNumber(t.scrollTop)?t.scrollTop=n:t.clientTop=n}function w(t,e,n,i){"insertRule"in t?t.insertRule(e+" { "+n+" }",i):"addRule"in t&&t.addRule(e,n,i)}function T(t){var e=t.rel,n=t.href,i=document.createElement("link");return i.rel=e,i.href=n,i.setAttribute("crossorigin",""),i}var O=n(1),I=n(11),k=n(67);e.byId=i,e.byClass=r,e.create=o,e.html=a,e.remove=s,e.append=c,e.prepend=u,e.empty=l,e.next=h,e.prev=p,e.closest=d,e.getStyle=f,e.setStyle=m,e.setStyleAttr=v,e.offset=y,e.hasClass=C,e.addClass=_,e.removeClass=E,e.toggleClass=S,e.scrollElement=b,e.addCSSRule=w,e.createLink=T},function(t,e,n){function i(t){void 0===t&&(t={}),l=t}function r(t){u=t}function o(){return u}function a(){return"ru"===o()?"ru":"en"}function s(t,e){void 0===e&&(e={});var n=l[t];if(!n)return console.error('no keyword "'+t+'" in locales data'),t;var i=n[a()];return"undefined"==typeof i?t:c.isFunction(i)?i(e):i||""}var c=n(1),u=null,l={};e.loadLocalesData=i,e.setLocale=r,e.getLocale=o,e.getUiLocale=a,e.i18n=s},function(t,e,n){function i(t){return function(e){return Object.assign(e,{type:t})}}function r(t){return{type:e.OPEN_DROPDOWN,dropdownId:t}}function o(t,n){return{type:e.SET_DROPDOWN_SELECTED_INDEX,dropdownId:t,selectedIndex:n}}function a(t){return{type:e.CLOSE_DROPDOWN,dropdownId:t}}function s(){return{type:e.SHOW_CATALOG}}function c(){return{type:e.HIDE_CATALOG}}function u(){return{type:e.SHOW_SEARCH}}function l(){return{type:e.HIDE_SEARCH}}function h(t){var n=t.query,i=t.results;return{type:e.SET_SEARCH_SUGGEST_RESULTS,query:n,results:i}}function p(t,e,n){return function(i){return Object.assign(i,{widgetName:t,query:e,items:i.items,allResultsCount:i.totalResults,widgetSearchOrigin:n})}}function d(t){var e=t[0],n=t[1];return{totalResults:e.totalResults,items:n.items[0]?[n.items[0]].concat(e.items):e.items}}function f(t,n){return function(r){r({type:e.FETCH_SEARCH_PANE_RESULTS}),x.getSiteResults(t,window.location.hostname).then(p("searchSubpaneCurrentDomain",t,n)).then(i(e.RECEIVE_SEARCH_PANE_RESULTS)).then(r),Promise.all([x.getSiteResults(t),x.getEpguResults(t)]).then(d).then(p("searchSubpaneAllGovSites",t,n)).then(i(e.RECEIVE_SEARCH_PANE_RESULTS)).then(r),x.getSiteResults(t,n).then(p("searchSubpaneCatalog",t,n)).then(i(e.RECEIVE_SEARCH_PANE_RESULTS)).then(r)}}function g(){return{type:e.SHOW_LOCATION}}function m(){return{type:e.HIDE_LOCATION}}function v(t){return{type:e.SET_LOCATION_LABEL,text:t}}function y(){return{type:e.IFRAME_CLICK}}function C(t){return{type:e.SELECT_SUGGESTED_SEARCH_VALUE,value:t}}function _(t){return{type:e.SET_SEARCH_INPUT_VALUE,value:t}}function E(t){return{type:e.SET_MENU_PATH,path:t}}function S(t){return{type:e.SET_LOCALE_LANGUAGE,localeLanguage:t}}function b(t){return{type:e.SET_MENU_ITEMS,items:t}}function w(){return{type:e.COLLAPSE_MENU}}function T(){return{type:e.UNFOLD_MENU}}function O(t){return function(n,i){n({type:e.UPDATE_WIDGET_OPTIONS,widgetOptions:t});var r,o=i().localeLanguage;r=t.language&&t.language.visible&&t.language.visible.length?t.language.visible[0]:"ru",r!==o&&n(S(r));var a=i().currentMenuItems;t.menu!==a&&n(b(t.menu));var s=i().pickerConfigs.mainCiviPicker;t.picker!==s&&(n(I("mainCiviPicker",t.picker)),n(I("mainCiviPickerFullWidth",t.picker)));var c=i().pickerConfigs.langCiviPicker;t.language!==c&&(n(I("langCiviPicker",t.language)),n(I("langCiviPickerFullWidth",t.language)))}}function I(t,n){return{type:e.SET_PICKER_CONFIG,elementId:t,config:n}}function k(t){return function(n,i){var r=-1!==i().openedDropdowns.indexOf("search-suggest");if(r){var o=i(),a=o.searchSuggestResults,s=o.searchSuggestActiveResult,c=a.length;if(c){var u=t(s,c),l=a[u];n({type:e.ACTIVATE_SUGGESTION_RESULT,index:u,value:l})}}}}function A(){return k(function(t,e){return t?t-1:e-1})}function P(){return k(function(t,e){return null===t?0:(t+1)%e})}function R(t){return{type:e.HOVER_SUGGESTION_RESULT,index:t}}var x=n(9);e.OPEN_DROPDOWN="OPEN_DROPDOWN",e.CLOSE_DROPDOWN="CLOSE_DROPDOWN",e.SHOW_CATALOG="SHOW_CATALOG",e.HIDE_CATALOG="HIDE_CATALOG",e.SHOW_SEARCH="SHOW_SEARCH",e.HIDE_SEARCH="HIDE_SEARCH",e.FETCH_SEARCH_PANE_RESULTS="FETCH_SEARCH_PANE_RESULTS",e.RECEIVE_SEARCH_PANE_RESULTS="RECEIVE_SEARCH_PANE_RESULTS",e.SHOW_LOCATION="SHOW_LOCATION",e.HIDE_LOCATION="HIDE_LOCATION",e.SET_LOCATION_LABEL="SET_LOCATION_LABEL",e.IFRAME_CLICK="IFRAME_CLICK",e.SET_DROPDOWN_SELECTED_INDEX="SET_DROPDOWN_SELECTED_INDEX",e.SET_SEARCH_SUGGEST_RESULTS="SET_SEARCH_SUGGEST_RESULTS",e.SET_SEARCH_INPUT_VALUE="SET_SEARCH_INPUT_VALUE",e.SELECT_SUGGESTED_SEARCH_VALUE="SELECT_SUGGESTED_SEARCH_VALUE",e.SET_MENU_PATH="SET_MENU_PATH",e.UPDATE_WIDGET_OPTIONS="UPDATE_WIDGET_OPTIONS",e.SET_LOCALE_LANGUAGE="SET_LOCALE_LANGUAGE",e.SET_MENU_ITEMS="SET_MENU_ITEMS",e.COLLAPSE_MENU="COLLAPSE_MENU",e.UNFOLD_MENU="UNFOLD_MENU",e.SET_PICKER_CONFIG="SET_PICKER_CONFIG",e.ACTIVATE_SUGGESTION_RESULT="ACTIVATE_SUGGESTION_RESULT",e.HOVER_SUGGESTION_RESULT="HOVER_SUGGESTION_RESULT",e.openDropdown=r,e.setDropdownSelectedIndex=o,e.closeDropdown=a,e.showCatalog=s,e.hideCatalog=c,e.showSearch=u,e.hideSearch=l,e.setSearchSuggestResults=h,e.fetchSearchPaneResults=f,e.showLocation=g,e.hideLocation=m,e.setLocationLabel=v,e.handleIframeClick=y,e.selectSuggestedSearchValue=C,e.setSearchInputValue=_,e.setMenuPath=E,e.setLocaleLanguage=S,e.setMenuItems=b,e.collapseMenu=w,e.unfoldMenu=T,e.updateWidgetOptions=O,e.setPickerConfig=I,e.selectPreviousSuggestion=A,e.selectNextSuggestion=P,e.hoverSuggestionResult=R},function(t,e,n){function i(t){if(!y)throw new Error("apiOrigin not set");if(!t)throw new Error("path not set");if("/"!==t.charAt(0))throw new Error('path should begin with "/" character');return""+y+t}function r(t){return"/"!==t.charAt(t.length-1)?void(y=t):void(y=t.slice(0,-1))}function o(t){C=t}function a(t){var e=i("/json/catalog_"+t+".json");return new Promise(function(t,n){f["default"](e,"GET","",function(e){t(JSON.parse(e))},n)})}function s(t){void 0===t&&(t="");var e=m.DEFAULT_SETTINGS.sputnikSuggest+"/?type=gosbar&format=opensearch&query="+encodeURI(t);return new Promise(function(n,i){return t.trim()?void f["default"](e,"GET","",function(t){var e=JSON.parse(t);n(e[1])},i):void n([])})}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(t,e){var n=e[0],i=e[1];return t[n]||i},t)}function u(t,e){return t?(t=c(t,["kmdata",[]],[""+e,[]],["kms",[]],["rs",[]],[0,[]],["rs",[]]),g.map(t,function(t){return{text:t.ttl,href:t.u}})):[]}function l(t,e){return t?parseInt(c(t,["kmdata",0],[""+e,0],["kms",0],["s",0],["rs",0]),10):0}function h(t,e){void 0===t&&(t=""),void 0===e&&(e="");var n=m.DEFAULT_SETTINGS.sputnikSearchAPI;return n=e?n+"?q="+t+"%20site:"+e:n+"?q="+t,new Promise(function(e,i){return t.trim()?void f["default"](n,"GET","",function(t){var n=JSON.parse(t);e({totalResults:l(n,"gosbar"),items:u(n,"gosbar")})},i):void e({totalResults:0,items:[]})})}function p(t){void 0===t&&(t="");var e=m.DEFAULT_SETTINGS.sputnikEpguAPI+"?q="+t;return new Promise(function(n,i){return t.trim()?void f["default"](e,"GET","",function(t){var e=JSON.parse(t);n({totalResults:l(e,"epgu"),items:u(e,"epgu")})},i):void n({totalResults:0,items:[]})})}function d(t){var e=m.DEFAULT_SETTINGS.checkHostnameURL+"/sites/"+v.toASCII(t);return new Promise(function(t,n){return C?(console.warn("Emulating forbidden widget"),void t({sitePermitted:!1,siteId:null})):void f["default"](e,"GET","",function(e){var n=JSON.parse(e);t({sitePermitted:!0,siteId:n})},n)})}var f=n(66),g=n(1),m=n(4),v=n(43),y=null,C=!1;e.setApiOrigin=r,e.setEmulateForbidden=o,e.getCatalog=a,e.getSearchSuggest=s,e.getSiteResults=h,e.getEpguResults=p,e.checkHostname=d},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=function(t){function e(e,n){t.call(this,e,n),this.elementId=e,this.isOpened=!1,this.selectedIndex=null,this.config=null}return i(e,t),e.prototype.renderRequest=function(){var t=this.getRenderData();this.render(t),this.setEvents()},e.prototype.setEvents=function(){var t=(this.getComposer(),this.getComponentElement());t.byClass("js-selector-item").on("click",this.handleItemClick.bind(this)),t.byClass("js-title").on("click",this.handleTitleClick.bind(this)),t.on("click",function(t){t.stopPropagation()})},e.prototype.handleItemClick=function(t){var e=t.target,n=parseInt(e.getAttribute("data-index"),10);this.trigger("indexChange",n)},e.prototype.toggle=function(){this.isOpened?this.trigger("close",{elementId:this.elementId}):this.trigger("open",{elementId:this.elementId})},e.prototype.handleTitleClick=function(t){t.preventDefault(),this.toggle()},e.prototype.updateProps=function(t){var e=this.elementId,n=-1!==t.openedDropdowns.indexOf(e),i=t.dropdownSelectedIndex[e]||0,r=t.pickerConfigs[e],o=!1;this.isOpened!==n&&(this.isOpened=n,o=!0),this.selectedIndex!==i&&(this.selectedIndex=i,o=!0),this.config!==r&&(this.config=r,o=!0),o&&this.renderRequest()},e.prototype.render=function(t){var e=this.getComponentElement();return e.addClass("civi-picker"),t.items.length?(this.isOpened&&e.addClass("civi-picker_opened"),this.isOpened||e.removeClass("civi-picker_opened"),void e.html(o.render("civi_picker",t))):void e.html("")},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){function i(t){var e,n,i;if(u(f[t]))return t;for(n=l(a,!1),n=n.charAt(0).toUpperCase()+n.substr(1),e=g.length-1;e>=0;e+=-1)if(i=g[e],t=i+n,u(f[t]))return t;return!1}var r,o,a,s,c=n(1),u=c.isString,l=c.camelCase,h=c.isFunction,p=c.docObj,d=p.body||p.documentElement,f=d.style;e.support={};var g=["Moz","Webkit","Khtml","O","ms"];for(s=["transition","opacity","filter","border-radius","box-shadow","box-sizing","transform"],r=0,o=s.length;o>r;r++)a=s[r],e.support[l(a)+"Css"]=i(a);e.support.mousewheelEvent=function(){return p.addEventListener?void 0!==p.wheel?"onwheel":void 0!==p.onmousewheel?"mousewheel":"MozMousePixelScroll":"mousewheel"}(),e.support.svg=function(){var t;return h("function"==typeof document.createElementNS&&null!=(t=document.createElementNS("http://www.w3.org/2000/svg","svg"))?t.createSVGPoint:void 0)}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){function n(){return u}function i(t){l.push(t);var e=!0;return function(){if(e){e=!1;var n=l.indexOf(t);l.splice(n,1)}}}function r(t){if(!a["default"](t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,u=c(u,t)}finally{h=!1}return l.slice().forEach(function(t){return t()}),t}function o(t){c=t,r({type:s.INIT})}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t,u=e,l=[],h=!1;return r({type:s.INIT}),{dispatch:r,subscribe:i,getState:n,replaceReducer:o}}e.__esModule=!0,e["default"]=r;var o=n(15),a=i(o),s={INIT:"@@redux/INIT"};e.ActionTypes=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(12),o=i(r),a=n(48),s=i(a),c=n(47),u=i(c),l=n(46),h=i(l),p=n(14),d=i(p);e.createStore=o["default"],e.combineReducers=s["default"],e.bindActionCreators=u["default"],e.applyMiddleware=h["default"],e.compose=d["default"]},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){if(!t||"object"!=typeof t)return!1;var e="function"==typeof t.constructor?Object.getPrototypeOf(t):Object.prototype;if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&i(n)===i(Object)}e.__esModule=!0,e["default"]=n;var i=function(t){return Function.prototype.toString.call(t)};t.exports=e["default"]},function(t,e){"use strict";function n(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=e(t[i],i),n},{})}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=function(t){function e(e,n){t.call(this,e,n),this.elementId=e,this.labelText="",this.isVisible=!1,this.rerender()}return i(e,t),e.prototype.renderAndSetEvents=function(){this.render(),this.setEvents()},e.prototype.setIsVisible=function(t){this.isVisible=t,this.rerender()},e.prototype.getLabelText=function(){return this.labelText},e.prototype.setLabelText=function(t){this.labelText=t,this.rerender()},e.prototype.rerender=function(){this.renderAndSetEvents()},e.prototype.render=function(){return this.isVisible?void this.renderTemplate():void this.getComponentElement().html("")},e}(r.AbstractWidgetComponent);e.Button=o},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(10),o=n(1),a=function(t){function e(e,n){t.call(this,e,n),this.elementId=e}return i(e,t),e.prototype.getRenderData=function(){var t={items:[],selectedIndex:this.selectedIndex};return t.items=o.map(this.config,function(t){return t=Object.assign({},t),t.html=t.text,t}),t},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(10),o=n(1),a=function(t){function e(e,n){t.call(this,e,n),this.elementId=e}return i(e,t),e.prototype.getRenderData=function(){var t={items:[],selectedIndex:this.selectedIndex};return this.config?(o.each(this.config.visible,function(n){var i=e.langToItemsData[n];if(i){var r={html:i.text,className:i.className};t.items.push(r)}}),t.items.length<2&&(t.items=[]),t):t},e.langToItemsData={ru:{text:"RUS",className:"lang-picker-lang-rus"},en:{text:"GBR",className:"lang-picker-lang-gbr"},es:{text:"ESP",className:"lang-picker-lang-esp"},zh:{text:"CHN",className:"lang-picker-lang-chn"},fr:{text:"FRA",className:"lang-picker-lang-fra"},pt:{text:"PRT",className:"lang-picker-lang-prt"},ja:{text:"JPN",className:"lang-picker-lang-jpn"},de:{text:"GER",className:"lang-picker-lang-ger"},it:{text:"ITA",className:"lang-picker-lang-ita"},uk:{text:"UKR",className:"lang-picker-lang-ukr"},crh:{text:"CRT",className:"lang-picker-lang-crt"}},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){function i(t,e,n){return e=h[e+"Event"]||e,t.setInterval&&t!==window&&!t.frameElement&&(t=window),n.guid||(n.guid=++f),t._widgetEvents||(t._widgetEvents={},t._widgetHandle=function(e){g.call(t,e)}),t._widgetEvents[e]||(t._widgetEvents[e]={},t.addEventListener?t.addEventListener(e,t._widgetHandle,!1):t.attachEvent?t.attachEvent("on"+e,t._widgetHandle):t["on"+e]=t._widgetHandle),t._widgetEvents[e][n.guid]=n,this}function r(t,e,n){var i,r,o;if(e=h[e+"Event"]||e,r=t._widgetEvents&&t._widgetEvents[e],!r)return this;delete r[n.guid];for(var a in r)if(d.call(r,a))return this;t.removeEventListener?t.removeEventListener(e,t._widgetHandle,!1):t.detachEvent&&t.detachEvent("on"+e,t._widgetHandle),delete t._widgetEvents[e],o=t._widgetEvents;for(var a in o)if(d.call(o,a))return this;try{delete t._widgetHandle,delete t._widgetEvents}catch(s){i=s,"function"==typeof t.removeAttribute&&t.removeAttribute("handle"),"function"==typeof t.removeAttribute&&t.removeAttribute("events")}return this}function o(t,e){var n;return l.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e),n.eventName=e,l.createEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n),this}function a(){return new Promise(function(t){function e(){n&&clearInterval(n),r(u,"load",e),r(l,"DOMContentLoaded",e),t(l)}var n=null;if(l.addEventListener)i(l,"DOMContentLoaded",e);else{var o=document.createElement("div"),a=!1;try{a=null===u.frameElement}catch(s){}o.doScroll&&a&&u.external&&(n=setInterval(function(){try{o.doScroll(),e()}catch(t){}},50))}i(u,"load",e),"complete"===l.readyState&&e()})}var s=n(1),c=n(11),u=s.winObj,l=s.docObj,h=c.support,p=s.each,d={}.hasOwnProperty,f=0,g=function(t){t=new m(t);var e=this._widgetEvents[t.type];p(e,function(e){var n=e.call(this,t);n&&(t.preventDefault(),t.stopPropagation())},this)};e.on=i,e.off=r,e.trigger=o,e.domReady=a;var m=function(){function t(t){this.original=t||window.event,this.ensureEvent(this.original)}return t.prototype.preventDefault=function(){this.original.preventDefault?this.original.preventDefault():this.original.returnValue=!1},t.prototype.stopPropagation=function(){this.original.stopPropagation?this.original.stopPropagation():this.original.cancelBubble=!0},t.prototype.ensureEvent=function(t){var e,n;if(n=document.documentElement,e=document.body,this.type=t.type,this.target=t.target||t.srcElement,!t.relatedTarget&&t.fromElement?this.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement:this.relatedTarget=t.relatedTarget,this.keyCode=t.keyCode,null!=t.pageX&&null!=t.clientX?(this.pageX=t.clientX+(n&&n.scrollLeft||e&&e.scrollLeft||0)-(n.clientLeft||0),this.pageY=t.clientY+(n&&n.scrollTop||e&&e.scrollTop||0)-(n.clientTop||0)):(this.pageX=t.pageX,this.pageY=t.pageY),this.delta=(t.detail||-t.wheelDelta)>0?1:-1,t.which||!t.button)return this.which=t.which;switch(t.button){case 1:return this.which=1;case 2:return this.which=3;case 4:return this.which=2;default:return this.which=0}},t}();e.Event=m},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){var e='<div class="section catalog-section"> ';return t.title&&(e+=' <div class="catalog-header"><a class="back-history" href="#'+t.previous_path+'"><i class="back-icon"></i>'+t.title+"</a></div> "),e+=" ",t.description&&(e+=" "+this.render("description",t)+" "),e+=" ",t.items&&!t.official?e+=' <ul class="catalog"> '+this.render("catalog_section",{items:t.items,basedata:t})+" </ul> ":t.not_official&&t.not_official.length>0&&(e+=' <div class="subheader" id="not_official">'+this.i18n("Subject sites")+'</div> <ul class="catalog"> '+this.render("catalog_section",{items:t.not_official,basedata:t})+" </ul> "),e+=" ",t.official&&t.official.length>0&&(e+=' <div class="subheader" id="official">'+this.i18n("Organizations")+'</div> <ul class="catalog"> '+this.render("catalog_section",{items:t.official,basedata:t})+" </ul> "),e+="</div>"}},function(t,e){t.exports=function(t){for(var e,n="",i=0,r=t.items.length;r>i;i++)e=t.items[i],n+='<li id="'+t.basedata.level+"_"+e.id+'"> <a href="#',t.basedata.previous_path&&(n+=""+t.basedata.previous_path),n+=""+t.basedata.level+"_"+e.id+'" name_metric ="'+(e.title||"")+'"> <h3>'+(e.title||"")+"</h3> <p>"+(e.description||"")+"</p> </a></li>";return n}},function(t,e){t.exports=function(t){var e="";if(t){e+=" ";var n,i;if(e+=" ",this.isArray(t.items)){for(e+=' <div class="civi-picker__title js-title '+(t.items[t.selectedIndex].className||"")+" "+(t.pickerClassName||"")+" ",t.isActive&&(e+="civi-picker_active"),e+='"><div class="civi-picker__title-inner">'+t.items[t.selectedIndex].html+'</div></div> <div class="civi-picker__selector"> ',n=0,i=t.items.length;i>n;n++){var r=t.items[n];e+=' <div class="civi-picker__selector-item js-selector-item ',n===t.selectedIndex&&(e+="civi-picker__selector-item_selected"),e+=" "+(r.className||"")+'" data-index="'+n+'" ',r.href&&(e+='data-href="'+r.href+'"'),e+=">"+t.items[n].html+"</div> "}e+=" </div> "}}return e}},function(t,e){t.exports=function(t){var e="";if(t){e+=" ";var n,i;if(e+=" ",this.isArray(t.items)){for(e+=' <div class="civi-picker-full-width__selector"> ',n=0,i=t.items.length;i>n;n++){var r=t.items[n];e+=' <div class="civi-picker-full-width__selector-item js-selector-item ',n===t.selectedIndex&&(e+="civi-picker-full-width__selector-item_selected"),e+=" "+(r.className||"")+'" data-index="'+n+'">'+t.items[n].html+"</div> "}e+=" </div> "}}return e}},function(t,e){t.exports=function(t){var e="";if(t){e+=" ";var n,i;if(e+=' <div class="article"> ',this.isArray(t)){for(e+=" ",n=0,i=t.length;i>n;n++)e+=" <p>"+t[n]+"</p> ";e+=" "}else e+=" "+t+" ";e+=" </div>"}return e}},function(t,e){t.exports=function(t){var e='<!DOCTYPE html ><html> <head> <link rel="stylesheet" type="text/css" href="'+t.cssOrigin+'/widget/widget-style.css?fh=5beaf97e9fae22652910154ea6cc7647"> </head> <body> <div class="main forbidden"><div class="main-panel"> <div class="forbidden-logo"></div> <div class="forbidden-message forbidden-message_long">Данный ресурс не включен в каталог государственных сайтов. Отображение виджета невозможно.</div> <div class="forbidden-message forbidden-message_short">Ресурс не включен в каталог.</div></div> </body></html>';return e}},function(t,e){t.exports=function(t){var e='<div class="section info-section"> ';if(t.title&&(e+=' <div class="info-header"> ',t.previous_path&&"/"!==t.previous_path&&(e+=' <a class="back-history" href="#'+t.previous_path+'"><i class="back-icon"></i>'+t.title+"</a> "),
e+=" </div> "),e+=" ",t.description&&(e+=" "+this.render("description",t.description)+" "),e+=" ",t.url&&(e+=' <div class="detailed-info-link"> <a href="'+t.url+'" metric="Gosbar_external">'+this.i18n("Detailed information")+"</a> </div> "),t.has_contacts||t.link){e+=' <div class="info-section__contacts-header">'+this.i18n("Contacts")+"</div> ",t.link&&(e+=' <div class="link"> <a href="'+t.link+'" metric="Gosbar_external">'+t.link+"</a> </div> "),e+=' <div class="article info-site"> ';var n,i,r=t.social_services;if(e+=" ",r&&r.length>0){for(e+=' <div class="group"> <p> ',n=0,i=r.length;i>n;n++)e+=' <a href="'+r[n].link+'">'+r[n].name+"</a>",i-1>n&&(e+=","),e+=" ";e+=" </p> </div> "}e+=' <div class="group"> ',t.address&&(e+=" <p>"+this.i18n("Address")+" "+t.address+"</p> "),e+=" ",t.email&&(e+=' <p>E-mail: <a href="mailto:'+t.email+'">'+t.email+"</a></p> "),e+=" ",t.work_time&&(e+=" <p>"+this.i18n("Work time")+" "+t.work_time+"</p> "),e+=' </div> <div class="group"> ',t.phone_reception&&(e+=" <p> "+this.i18n("Personal reception")+'<br/> <span class="phone">'+t.phone_reception+"</span> </p> "),e+=" ",t.phone_media&&(e+=" <p> "+this.i18n("On cooperation with the media")+'<br/> <span class="phone">'+t.phone_media+"</span> </p> "),e+=" </div> </div>"}if(e+=" ",t.services){e+=' <div class="info-section__services-header">'+this.i18n("Services")+'</div> <div class="article info-site"> ';var o=t.services;if(e+=" ",o&&o.length>0){for(e+=' <div class="group"> ',n=0,i=o.length;i>n;n++)e+=" ",e+=o[n].url?' <p><a href="'+o[n].url+'">'+o[n].name+"</a></p> ":" <p>"+o[n].name+"</p> ",e+=" ";e+=" </div> "}e+=" </div> "}return e+="</div>"}},function(t,e){t.exports=function(t){var e="undefined"!=typeof _encodeHTML?_encodeHTML:function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}}(),n="";return t&&(n+=' <div class="location-button"><span class="location-button__label-text">'+e(t.labelText)+"</span></div>"),n}},function(t,e){t.exports=function(t){var e='<!DOCTYPE html ><html> <head> <style>body {opacity: 0;}</style> <style id="customStyles" type="text/css" media="(min-width: 721px)"></style> </head> <body> <div class="main"> <div class="main-panel" id="mainPanel"> <div class="main-panel-pane main-panel-pane-1"> <div class="logo" id="collapse"></div> </div> <div class="main-panel-pane main-panel-pane-2"> <div id="searchLoupeButton" class="search-loupe-button"><div class="search-loupe-button_icon"></div></div> <div class="civi-picker" id="langCiviPicker"></div> <div id="searchTeaser" class="search-teaser"><input type="text" class="search-teaser_input" autocomplete="off"></div> <div id="locationButton"></div> <div class="civi-picker" id="mainCiviPicker"></div> <div class="civi-picker" id="menuCiviPicker"></div> <div class="main-menu" id="mainMenu"></div> <div id="warningText"></div> </div> <div class="main-panel-pane main-panel-pane-3"> <div class="search-bar" id="searchBar"></div> <div class="search-suggestor" id="searchSuggestor"></div> <div class="search-pane" id="searchPane"></div> </div> <div class="menu-picker-full-width" id="menuPickerFullWidth"></div> </div> </div> </div> <div class="content" id="content"> <div class="content-shadow"> <div class="content-wrap" id="contentWrap"> <div class="col info-column" id="statsInformation"></div> <div class="col main-catalog" id="mainCatalog"></div> <div class="catalog-cols" id="catalogCols"></div> </div> <div class="info-button" id="infoButton"> <div class="info-button-wrap to-info"> <span data-translate="About catalog">'+this.i18n("About catalog")+'</span> <span class="pull-right"> <i class="icon-catfwd"></i> </span> </div> <div class="info-button-wrap to-catalog"> <i class="icon-catbck"></i> <span data-translate="Catalog" class="pull-right">'+this.i18n("Catalog")+'</span> </div> </div> </div> </div> <div class="search-result" id="searchResult"></div> <div class="underlay" id="underlay"></div> <div class="civi-picker-full-width" id="mainCiviPickerFullWidth"></div> <div class="civi-picker-full-width" id="langCiviPickerFullWidth"></div> <noscript><div><img src="//mc.yandex.ru/watch/45873126" style="position:absolute; left:-9999px;" alt="" /></div></noscript> </body></html>';return e}},function(t,e){t.exports=function(t){var e="undefined"!=typeof _encodeHTML?_encodeHTML:function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}}(),n="";return t&&(n+=' <div class="menu-button ',t.isActive&&(n+="menu-button_active"),n+='" ',t.href&&(n+='data-href="'+t.href+'"'),n+='><span class="menu-button__label-text">'+e(t.labelText)+"</span></div>"),n}},function(t,e){t.exports=function(t){var e="";if(t&&t.items){var n=t.items;if(n)for(var i,r=-1,o=n.length-1;o>r;)i=n[r+=1],e+='<div class="menu-pane__menu-item" id="menuPaneMenuItem_'+r+'"></div>'}return e}},function(t,e){t.exports=function(t){var e="";if(t){e+=" ";var n,i;if(e+=" ",this.isArray(t.items)){for(e+=' <div class="menu-picker-full-width__selector"> ',t.backlinkPath&&(e+=' <div class="menu-picker-full-width__selector-item menu-picker-full-width__selector-item_backlink js-back-item" data-path="'+t.backlinkPath+'">'+this.i18n("Go back")+"</div> "),e+=" ",n=0,i=t.items.length;i>n;n++){var r=t.items[n];e+=' <div class="menu-picker-full-width__selector-item js-selector-item           ',r.hasChildren&&(e+="menu-picker-full-width__selector-item_has-children"),e+=" ",r.isActive&&(e+="menu-picker-full-width__active-item"),e+='" data-index="'+n+'" ',r.href&&(e+='data-href="'+r.href+'"'),e+=">"+r.html+"</div> "}e+=" </div> "}}return e}},function(t,e){t.exports=function(t){var e='<input type="text" class="search-bar_input" placeholder="'+this.i18n("Search")+'" autocomplete="off"><div class="search-submit">'+this.i18n("Find")+'</div><div class="search-close"></div>';return e}},function(t,e){t.exports=function(t){var e='<div class="search-subpane" id="searchSubpaneCurrentDomain"></div><div class="search-subpane" id="searchSubpaneAllGovSites"></div><div class="search-subpane" id="searchSubpaneCatalog"></div>';return e}},function(t,e){t.exports=function(t){var e='<div class="search-subpane_caption">'+t.caption+"</div>",n=t.items;if(n)for(var i,r=-1,o=n.length-1;o>r;)i=n[r+=1],e+='<div class="search-subpane_link"><a class="search-subpane_link-main js-subpane-link" href="'+i.href+'">'+i.text+'</a><a class="search-subpane_link-minor js-subpane-link" href="'+i.href+'">'+i.href+"</a></div>";return e+='<div class="search-subpane_all-results"><a class="search-subpane_all-results-group js-subpane-link" href="'+t.linkToFullSearch+'"><div class="search-subpane_all-results-text">'+t.allResultsText+'</div><div class="search-subpane_all-results-count">'+t.allResultsCount+"</div></a></div>"}},function(t,e){t.exports=function(t){var e="";if(t.items.length>0){e+="<ul> ";var n=t.items;if(n)for(var i,r=-1,o=n.length-1;o>r;)i=n[r+=1],e+=' <li class="search-suggest ',r===t.activeIndex&&(e+="search-suggest_active"),e+='" data-value="'+this.escapeAttrs(i)+'" data-index="'+r+'">'+i+"</li> ";e+="</ul>"}return e}},function(t,e){t.exports=function(t){var e='<div class="col-content stats-panel"> ';return t.catalog.title&&(e+=' <div class="stats-title">'+t.catalog.title+"</div> "),e+=" ",t.catalog.description&&(e+=" "+this.render("description",t.catalog.description)+" "),e+=" ",t.catalog.about&&(e+=" ",t.catalog.about.title&&(e+=' <div class="stats-title">'+t.catalog.about.title+"</div> "),e+=" ",t.catalog.about.description&&(e+=" "+this.render("description",t.catalog.about.description)+" "),e+=" "),e+='</div><div class="gosuslugi-promo"> <div class="gosuslugi-promo__logo"></div> <p>'+this.i18n("Gosuslugi-promo-text")+'</p> <a href="'+t.portalURL+'" class="button" metric="Gosbar_epgu_button" target="_blank">'+this.i18n("Gosuslugi-promo-button")+"</a></div>"}},function(t,e){t.exports=function(t){var e="";return t&&t.isVisible&&(e+='<div class="warning-text">ВНИМАНИЕ! Это – ТЕСТОВАЯ СРЕДА портала госуслуг</div>'),e}},function(t,e){"use strict";function n(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),a=0,s=o.length;s>a;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(r,c);void 0!==u&&u.enumerable&&(n[c]=r[c])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}t.exports={assign:n,polyfill:i}},function(t,e,n){var i;(function(t,r,o){(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function c(t){return"object"==typeof t&&null!==t}function u(t){Y=t}function l(t){$=t}function h(){return function(){t.nextTick(m)}}function p(){return function(){z(m)}}function d(){var t=0,e=new tt(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function f(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function g(){return function(){setTimeout(m,1)}}function m(){for(var t=0;J>t;t+=2){var e=it[t],n=it[t+1];e(n),it[t]=void 0,it[t+1]=void 0}J=0}function v(){try{var t=n(!function(){var t=new Error('Cannot find module "vertx"');throw t.code="MODULE_NOT_FOUND",t}());return z=t.runOnLoop||t.runOnContext,p()}catch(e){return g()}}function y(){}function C(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function E(t){try{return t.then}catch(e){return st.error=e,st}}function S(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function b(t,e,n){$(function(t){var i=!1,r=S(n,e,function(n){i||(i=!0,e!==n?O(t,n):k(t,n))},function(e){i||(i=!0,A(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,A(t,r))},t)}function w(t,e){e._state===ot?k(t,e._result):e._state===at?A(t,e._result):P(e,void 0,function(e){O(t,e)},function(e){A(t,e)})}function T(t,e){if(e.constructor===t.constructor)w(t,e);else{var n=E(e);n===st?A(t,st.error):void 0===n?k(t,e):s(n)?b(t,e,n):k(t,e)}}function O(t,e){t===e?A(t,C()):a(e)?T(t,e):k(t,e)}function I(t){t._onerror&&t._onerror(t._result),R(t)}function k(t,e){t._state===rt&&(t._result=e,t._state=ot,0!==t._subscribers.length&&$(R,t))}function A(t,e){t._state===rt&&(t._state=at,t._result=e,$(I,t))}function P(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+ot]=n,r[o+at]=i,0===o&&t._state&&$(R,t)}function R(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?N(n,i,r,o):r(o);t._subscribers.length=0}}function x(){this.error=null}function L(t,e){try{return t(e)}catch(n){return ct.error=n,ct}}function N(t,e,n,i){var r,o,a,c,u=s(n);if(u){if(r=L(n,i),r===ct?(c=!0,o=r.error,r=null):a=!0,e===r)return void A(e,_())}else r=i,a=!0;e._state!==rt||(u&&a?O(e,r):c?A(e,o):t===ot?k(e,r):t===at&&A(e,r))}function D(t,e){try{e(function(e){O(t,e)},function(e){A(t,e)})}catch(n){A(t,n)}}function j(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(y),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?k(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&k(n.promise,n._result))):A(n.promise,n._validationError())}function M(t){return new ut(this,t).promise}function U(t){function e(t){O(r,t)}function n(t){A(r,t)}var i=this,r=new i(y);if(!X(t))return A(r,new TypeError("You must pass an array to race.")),r;for(var o=t.length,a=0;r._state===rt&&o>a;a++)P(i.resolve(t[a]),void 0,e,n);return r}function H(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return O(n,t),n}function W(t){var e=this,n=new e(y);return A(n,t),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(t){this._id=ft++,this._state=void 0,this._result=void 0,this._subscribers=[],y!==t&&(s(t)||G(),this instanceof V||F(),D(this,t))}function B(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=gt)}var q;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z,Y,K,X=q,J=0,$=({}.toString,function(t,e){it[J]=t,it[J+1]=e,J+=2,2===J&&(Y?Y(m):K())}),Z="undefined"!=typeof window?window:void 0,Q=Z||{},tt=Q.MutationObserver||Q.WebKitMutationObserver,et="undefined"!=typeof t&&"[object process]"==={}.toString.call(t),nt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,it=new Array(1e3);K=et?h():tt?d():nt?f():void 0===Z?v():g();var rt=void 0,ot=1,at=2,st=new x,ct=new x;j.prototype._validateInput=function(t){return X(t)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var ut=j;j.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,i=t._input,r=0;n._state===rt&&e>r;r++)t._eachEntry(i[r],r)},j.prototype._eachEntry=function(t,e){var n=this,i=n._instanceConstructor;c(t)?t.constructor===i&&t._state!==rt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(i.resolve(t),e):(n._remaining--,n._result[e]=t)},j.prototype._settledAt=function(t,e,n){var i=this,r=i.promise;r._state===rt&&(i._remaining--,t===at?A(r,n):i._result[e]=n),0===i._remaining&&k(r,i._result)},j.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,function(t){n._settledAt(ot,e,t)},function(t){n._settledAt(at,e,t)})};var lt=M,ht=U,pt=H,dt=W,ft=0,gt=V;V.all=lt,V.race=ht,V.resolve=pt,V.reject=dt,V._setScheduler=u,V._setAsap=l,V._asap=$,V.prototype={constructor:V,then:function(t,e){var n=this,i=n._state;if(i===ot&&!t||i===at&&!e)return this;var r=new this.constructor(y),o=n._result;if(i){var a=arguments[i-1];$(function(){N(i,r,a,o)})}else P(n,r,t,e);return r},"catch":function(t){return this.then(null,t)}};var mt=B,vt={Promise:gt,polyfill:mt};n(72).amd?(i=function(){return vt}.call(e,n,e,o),!(void 0!==i&&(o.exports=i))):"undefined"!=typeof o&&o.exports?o.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),mt()}).call(this)}).call(e,n(42),function(){return this}(),n(21)(t))},function(t,e){function n(){u=!1,a.length?c=a.concat(c):l=-1,c.length&&i()}function i(){if(!u){var t=setTimeout(n);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var a,s=t.exports={},c=[],u=!1,l=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new r(t,e)),1!==c.length||u||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){var i;(function(t,r){!function(o){function a(t){throw RangeError(x[t])}function s(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function c(t,e){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(R,".");var r=t.split("."),o=s(r,e).join(".");return i+o}function u(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function p(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function d(t,e,n){var i=0;for(t=n?N(t/T):t>>1,t+=N(t/e);t>L*b>>1;i+=E)t=N(t/L);return N(i+(L+1)*t/(t+w))}function f(t){var e,n,i,r,o,s,c,u,p,f,g=[],m=t.length,v=0,y=I,C=O;for(n=t.lastIndexOf(k),0>n&&(n=0),i=0;n>i;++i)t.charCodeAt(i)>=128&&a("not-basic"),g.push(t.charCodeAt(i));for(r=n>0?n+1:0;m>r;){for(o=v,s=1,c=E;r>=m&&a("invalid-input"),u=h(t.charCodeAt(r++)),(u>=E||u>N((_-v)/s))&&a("overflow"),v+=u*s,p=C>=c?S:c>=C+b?b:c-C,!(p>u);c+=E)f=E-p,s>N(_/f)&&a("overflow"),s*=f;e=g.length+1,C=d(v-o,e,0==o),N(v/e)>_-y&&a("overflow"),y+=N(v/e),v%=e,g.splice(v++,0,y)}return l(g)}function g(t){var e,n,i,r,o,s,c,l,h,f,g,m,v,y,C,w=[];for(t=u(t),m=t.length,e=I,n=0,o=O,s=0;m>s;++s)g=t[s],128>g&&w.push(D(g));for(i=r=w.length,r&&w.push(k);m>i;){for(c=_,s=0;m>s;++s)g=t[s],g>=e&&c>g&&(c=g);for(v=i+1,c-e>N((_-n)/v)&&a("overflow"),n+=(c-e)*v,e=c,s=0;m>s;++s)if(g=t[s],e>g&&++n>_&&a("overflow"),g==e){for(l=n,h=E;f=o>=h?S:h>=o+b?b:h-o,!(f>l);h+=E)C=l-f,y=E-f,w.push(D(p(f+C%y,0))),l=N(C/y);w.push(D(p(l,0))),o=d(n,v,i==r),n=0,++i}++n,++e}return w.join("")}function m(t){return c(t,function(t){return A.test(t)?f(t.slice(4).toLowerCase()):t})}function v(t){return c(t,function(t){return P.test(t)?"xn--"+g(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof r&&r);(y.global===y||y.window===y||y.self===y)&&(o=y);var C,_=2147483647,E=36,S=1,b=26,w=38,T=700,O=72,I=128,k="-",A=/^xn--/,P=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-S,N=Math.floor,D=String.fromCharCode;C={version:"1.3.2",ucs2:{decode:u,encode:l},decode:f,encode:g,toASCII:v,toUnicode:m},i=function(){return C}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}(this)}).call(e,n(21)(t),function(){return this}())},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(e){var n=e.getState;return function(e){return function(i){var a=t.level,s=t.logger,c=t.collapsed,u=t.predicate,l=t.duration,h=void 0===l?!1:l,p=t.timestamp,d=void 0===p?!0:p,f=t.transformer,g=void 0===f?function(t){return t}:f,m=t.actionTransformer,v=void 0===m?function(t){return t}:m,y=s||window.console;if("undefined"==typeof y)return e(i);if("function"==typeof u&&!u(n,i))return e(i);var C=o.now(),_=g(n()),E=e(i),S=o.now()-C,b=g(n()),w=new Date,T="function"==typeof c?c(n,i):c,O=d?" @ "+r(w.getHours(),2)+":"+r(w.getMinutes(),2)+":"+r(w.getSeconds(),2)+"."+r(w.getMilliseconds(),3):"",I=h?" in "+S.toFixed(2)+" ms":"",k=v(i),A="action "+k.type+O+I,P=T?y.groupCollapsed:y.group;try{P.call(y,A)}catch(R){y.log(A)}a?(y[a]("%c prev state","color: #9E9E9E; font-weight: bold",_),y[a]("%c action","color: #03A9F4; font-weight: bold",k),y[a]("%c next state","color: #4CAF50; font-weight: bold",b)):(y.log("%c prev state","color: #9E9E9E; font-weight: bold",_),y.log("%c action","color: #03A9F4; font-weight: bold",k),y.log("%c next state","color: #4CAF50; font-weight: bold",b));try{y.groupEnd()}catch(R){y.log("—— log end ——")}return E}}}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){return new Array(e+1).join(t)},r=function(t,e){return i("0",e-t.toString().length)+t},o="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(e,n):t(i)}}}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,i){var r=t(n,i),a=r.dispatch,c=[],u={getState:r.getState,dispatch:function(t){return a(t)}};return c=e.map(function(t){return t(u)}),a=s["default"].apply(void 0,c)(r.dispatch),o({},r,{dispatch:a})}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=r;var a=n(14),s=i(a);t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function o(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t||void 0===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return s["default"](t,function(t){return r(t,e)})}e.__esModule=!0,e["default"]=o;var a=n(16),s=i(a);t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=e&&e.type,i=n&&'"'+n.toString()+'"'||"an action";return'Reducer "'+t+'" returned undefined handling '+i+". To ignore an action, you must explicitly return the previous state."}function o(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof i)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:r}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(t){var e,n=p["default"](t,function(t){return"function"==typeof t});try{o(n)}catch(i){e=i}var a=l["default"](n,function(){});return function(t,i){if(void 0===t&&(t=a),e)throw e;var o=!1,s=l["default"](n,function(e,n){var a=t[n],s=e(a,i);if("undefined"==typeof s){var c=r(n,i);throw new Error(c)}return o=o||s!==a,s});return o?s:t}}e.__esModule=!0,e["default"]=a;var s=n(12),c=n(15),u=(i(c),n(16)),l=i(u),h=n(49),p=i(h);t.exports=e["default"]},function(t,e){"use strict";function n(t,e){return Object.keys(t).reduce(function(n,i){return e(t[i])&&(n[i]=t[i]),n},{})}e.__esModule=!0,e["default"]=n,t.exports=e["default"]},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(17),a=function(t){function e(e,n){t.call(this,e,n),this.handleClick=this.handleClick.bind(this)}return i(e,t),e.prototype.setEvents=function(){this.getComposer();this.getComponentElement().byClass("location-button").on("click",this.handleClick)},e.prototype.handleClick=function(t){this.trigger("click")},e.prototype.updateProps=function(t){this.setLabelText(""+t.locationLabelText),this.setIsVisible(t.locationIsVisible)},e.prototype.renderTemplate=function(){this.getComponentElement().html(r.render("location_button",{labelText:this.getLabelText()}))},e}(o.Button);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(3),a=function(t){function e(e,n,i){t.call(this,e,n),this.elementId=e,this.components={},this.isVisible=i.isVisible,this.isVisible&&this.renderTemplate()}return i(e,t),e.prototype.renderTemplate=function(){this.getComponentElement().html(r.render("warning",{isVisible:this.isVisible}))},e}(o.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={Search:{en:"Search",ru:"Поиск"},Find:{en:"Find",ru:"Найти"},Menu:{en:"Menu",ru:"Меню"},"About catalog":{en:"About catalog",ru:"О каталоге"},Catalog:{en:"Catalog",ru:"Каталог"},Categories:{en:"Categories",ru:"Категории"},"Subject sites":{en:"Subject sites",ru:"Тематические сайты"},Organizations:{en:"Organizations",ru:"Организации"},Contacts:{en:"Contacts",ru:"Контакты"},Address:{en:"Address:",ru:"Адрес:"},"Work time":{en:"Work time:",ru:"Время работы:"},"Personal reception":{en:"Record citizens for personal reception",ru:"Запись граждан на личный приём"},"On cooperation with the media":{en:"On cooperation with the media",ru:"По вопросам сотрудничества со СМИ"},Services:{en:"Services",ru:"Услуги"},"Catalog contains":{en:"Catalog contains:",ru:"В настоящее время каталог содержит:"},"Gosuslugi-promo-text":{en:"Now use government services is very simple!",ru:"Теперь пользоваться госуслугами очень просто!"},"Gosuslugi-promo-button":{en:"Open the portal",ru:"Перейти на портал"},"Detailed information":{en:"Detailed information",ru:"Подробная информация"},"Go back":{en:"Go back",ru:"Назад"},searchSubpaneCatalogCaption:{en:"Catalog of state sites",ru:"Каталог государственных сайтов"},searchSubpaneCatalogAllResults:{en:"All found on the catalog of state sites",ru:"Все найденное в каталоге государственных сайтов"},searchSubpaneAllGovSitesCaption:{en:"All state sites",ru:"Все государственные сайты"},searchSubpaneAllGovSitesAllResults:{en:"All found on state sites",ru:"Все найденное на государственных сайтах"},searchSubpaneCurrentDomainAllResults:{en:function(t){var e=t.hostname;return"All found on "+e},ru:function(t){var e=t.hostname;return"Все найденное на "+e}}}},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(17),a=function(t){function e(e,n,i,r,o){void 0===i&&(i=""),void 0===r&&(r=""),void 0===o&&(o=!1),t.call(this,e,n),this.href=r,this.isActive=o,this.handleClick=this.handleClick.bind(this),this.setLabelText(i),this.setIsVisible(!0)}return i(e,t),e.prototype.getWidth=function(){return this.getComponentElement()[0].offsetWidth},e.prototype.setEvents=function(){this.getComponentElement().byClass("menu-button").on("click",this.handleClick)},e.prototype.handleClick=function(t){var e=t.original.currentTarget,n=e.getAttribute("data-href")||"";window.location.assign(n)},e.prototype.renderTemplate=function(){this.getComponentElement().html(r.render("menu_button",{labelText:this.getLabelText(),href:this.href,isActive:this.isActive}))},e}(o.Button);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=n(1),s=n(53),c=n(59),u=n(8),l=function(t){function e(e,n,i,r){t.call(this,e,n),this.dispatch=r,this.components={},this.items=i.items,this.renderRequest()}return i(e,t),e.prototype.renderRequest=function(){this.widthPromise=null,this.render(),this.attachMenuItems(),this.setEvents()},e.prototype.getComponentsWidth=function(){var t=0;return a.each(this.components,function(e){t+=e.getWidth()}),t},e.prototype.getWidth=function(){var t=this;return this.widthPromise?this.widthPromise:this.widthPromise=new Promise(function(e){setTimeout(function(){e(t.getComponentsWidth())},500)})},e.prototype.attachMenuButton=function(t,e,n){var i=new s["default"](t,this,e,n,a.linkIsActive(n));this.attachComponent(t,i)},e.prototype.attachMenuPicker=function(t,e){var n=a.map(e.items,function(t){return{text:t.text,href:t.link}}),i=!1;n.unshift({text:e.text}),a.each(n,function(t){a.linkIsActive(t.href)&&(i=!0)}),n.isActive=i,this.attachComponent(t,new c["default"](t,this)),this.dispatch(u.setPickerConfig(t,n))},e.prototype.generateId=function(t){return"menuPaneMenuItem_"+t},e.prototype.attachMenuItems=function(){var t=this;a.each(this.items,function(e,n){var i=t.generateId(n);return e.items&&e.items.length>0?void t.attachMenuPicker(i,e):void t.attachMenuButton(i,e.text,e.link)})},e.prototype.setEvents=function(){var t=this;this.getComposer();a.each(this.items,function(e,n){var i=t.generateId(n),r=t.getComponent(i);e.items&&e.items.length>0&&(r.on("open",function(){t.trigger("pickerOpened",{elementId:i})}),r.on("close",function(){t.trigger("pickerClosed",{elementId:i})}))})},e.prototype.attachComponent=function(t,e){this.components[t]=e},e.prototype.getComponent=function(t){return this.components[t]},e.prototype.updateProps=function(t){this.items!==t.menuItems&&(this.components={},this.items=t.menuItems,this.renderRequest());var e=this.components;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],r=i.updateProps;"function"==typeof r&&r.call(i,t)}},e.prototype.render=function(){this.getComponentElement().html(o.render("menu_pane",{items:this.items}))},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=n(1),s=function(t){function e(e,n,i){t.call(this,e,n),this.elementId=e,this.isOpened=!1,this.menuPath=[],this.items=i.items}return i(e,t),e.prototype.renderRequest=function(){this.render(),this.setEvents()},e.prototype.setEvents=function(){var t=(this.getComposer(),this.getComponentElement());t.byClass("js-back-item").on("click",this.handleBackItemClick.bind(this)),t.byClass("js-selector-item").on("click",this.handleItemClick.bind(this)),t.on("click",function(t){t.stopPropagation()})},e.prototype.handleBackItemClick=function(t){var e=t.target,n=JSON.parse(e.getAttribute("data-path"));this.trigger("pathChanged",n)},e.prototype.handleItemClick=function(t){var e=t.target,n=this.menuPath.concat([parseInt(e.getAttribute("data-index"),10)]);if(this.getItemsInPath(n))return void this.trigger("pathChanged",n);var i=e.getAttribute("data-href")||"";window.location.assign(i)},e.prototype.updateProps=function(t){var e=!1,n=-1!==t.openedDropdowns.indexOf(this.elementId),i=t.menuPath,r=t.menuItems;this.isOpened!==n&&(this.isOpened=n,e=!0),this.menuPath!==i&&(this.menuPath=i,e=!0),this.items!==r&&(this.items=r),e&&this.renderRequest()},e.prototype.getItemsInPath=function(t){return t.reduce(function(t,e){return t[e].items},this.items)},e.prototype.render=function(){var t=this.getComponentElement();if(this.isOpened?t.addClass("menu-picker_opened"):t.removeClass("menu-picker_opened"),!this.items.length)return void t.html("");var e=a.map(this.getItemsInPath(this.menuPath),function(t){return{html:t.text,href:t.link,hasChildren:!(!t.items||!t.items.length),isActive:a.linkIsActive(t.link)}}),n=this.menuPath.length?JSON.stringify(this.menuPath.slice(0,-1)):null;t.html(o.render("menu_picker_full_width",{backlinkPath:n,items:e}))},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){function i(t){void 0===t&&(t={});var e={};return t.menuTitle&&(e.menuTitle=t.menuTitle),
r.isObject(t.menu)&&(e.menu=t.menu),t.isWarningText&&(e.isWarningText=!0),t.fixed&&(e.fixed=!0),e.yaCounterId=45873126,t.cssFixed&&(e.cssFixed=!0),r.isString(t.localSearch)&&(e.localSearch=function(e){return""+t.localSearch.replace(/\%query\%/gi,e)}),t.picker&&(e.picker=t.picker),t.language?e.language=t.language:e.language={visible:["ru"]},e.disableSearch=!!t.disableSearch,r.isNumber(t.marginLeft)&&(e.marginLeft=t.marginLeft),r.isNumber(t.marginRight)&&(e.marginRight=t.marginRight),r.isNumber(t.maxWidth)&&(e.maxWidth=t.maxWidth),r.isString(t.cssTheme)&&(e.cssTheme=t.cssTheme),r.isString(t.cssOrigin)?e.cssOrigin=t.cssOrigin:e.cssOrigin=o.DEFAULT_SETTINGS.cssOrigin,r.isString(t.catalogOrigin)?e.catalogOrigin=t.catalogOrigin:e.catalogOrigin=o.DEFAULT_SETTINGS.catalogOrigin,r.isString(t.trackerHostname)?e.trackerHostname=t.trackerHostname:e.trackerHostname=o.DEFAULT_SETTINGS.trackerHostName,e}var r=n(1),o=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(18),o=n(2),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(t){var e=this.getComponentElement();return t.items.length?(this.isOpened&&e.addClass("civi-picker_opened"),this.isOpened||e.removeClass("civi-picker_opened"),void e.html(o.render("civi_picker_full_width",t))):void e.html("")},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(19),o=n(2),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(t){var e=this.getComponentElement();return t.items.length?(this.isOpened&&e.addClass("civi-picker_opened"),this.isOpened||e.removeClass("civi-picker_opened"),void e.html(o.render("civi_picker_full_width",t))):void e.html("")},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(10),o=n(1),a=function(t){function e(e,n){t.call(this,e,n),this.elementId=e}return i(e,t),e.prototype.getWidth=function(){return this.getComponentElement()[0].offsetWidth},e.prototype.getRenderData=function(){var t={items:[],selectedIndex:this.selectedIndex,pickerClassName:"menu-picker",isActive:this.config&&this.config.isActive};return t.items=o.map(this.config,function(t){return t=Object.assign({},t),t.html=t.text,t}),t},e.prototype.handleItemClick=function(t){var e=t.target,n=e.getAttribute("data-href")||"";window.location.assign(n)},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){function i(t,e){switch(void 0===t&&(t=[]),e.type){case S.OPEN_DROPDOWN:var n=[],i=e.dropdownId;return n.push(i),"mainCiviPicker"===i&&n.push("mainCiviPickerFullWidth"),"langCiviPicker"===i&&n.push("langCiviPickerFullWidth"),"menuCiviPicker"===i&&n.push("menuPickerFullWidth"),n;case S.SHOW_CATALOG:return["catalog"];case S.RECEIVE_SEARCH_PANE_RESULTS:return["search-pane"];case S.SET_SEARCH_SUGGEST_RESULTS:return e.results.length?["search-suggest"]:[];case S.CLOSE_DROPDOWN:case S.HIDE_CATALOG:case S.SHOW_SEARCH:case S.IFRAME_CLICK:case S.SET_DROPDOWN_SELECTED_INDEX:case S.SELECT_SUGGESTED_SEARCH_VALUE:case S.UPDATE_WIDGET_OPTIONS:return[];default:return t}}function r(t,e){switch(e.type){case S.SHOW_CATALOG:return!0;default:return!1}}function o(t,e){switch(void 0===t&&(t=!1),e.type){case S.SHOW_SEARCH:return!0;case S.SHOW_CATALOG:case S.HIDE_SEARCH:case S.IFRAME_CLICK:case S.UPDATE_WIDGET_OPTIONS:return!1;default:return t}}function a(t,e){switch(void 0===t&&(t=!1),e.type){case S.SHOW_LOCATION:return!0;case S.HIDE_LOCATION:return!1;default:return t}}function s(t,e){switch(void 0===t&&(t=""),e.type){case S.SET_LOCATION_LABEL:return e.text;default:return t}}function c(t,e){switch(void 0===t&&(t={}),e.type){case S.SET_DROPDOWN_SELECTED_INDEX:var n=e.dropdownId,i=e.selectedIndex,r=Object.assign({},t,(o={},o[n]=i,o));return"mainCiviPicker"===n&&Object.assign(r,{mainCiviPickerFullWidth:i}),"langCiviPicker"===n&&Object.assign(r,{langCiviPickerFullWidth:i}),r;case S.SET_PICKER_CONFIG:var n=e.elementId,r=Object.assign({},t,(a={},a[n]=0,a));return"mainCiviPicker"===n&&Object.assign(r,{mainCiviPickerFullWidth:0}),"langCiviPicker"===n&&Object.assign(r,{langCiviPickerFullWidth:0}),r;default:return t}var o,a}function u(t,e){switch(void 0===t&&(t=[]),e.type){case S.SET_SEARCH_SUGGEST_RESULTS:return e.results;case S.IFRAME_CLICK:case S.SELECT_SUGGESTED_SEARCH_VALUE:case S.HIDE_SEARCH:case S.UPDATE_WIDGET_OPTIONS:return[];default:return t}}function l(t,e){switch(void 0===t&&(t=null),e.type){case S.SET_SEARCH_SUGGEST_RESULTS:case S.IFRAME_CLICK:case S.SELECT_SUGGESTED_SEARCH_VALUE:case S.UPDATE_WIDGET_OPTIONS:case S.HIDE_SEARCH:return null;case S.ACTIVATE_SUGGESTION_RESULT:case S.HOVER_SUGGESTION_RESULT:return e.index;default:return t}}function h(t,e){switch(void 0===t&&(t=""),e.type){case S.IFRAME_CLICK:case S.HIDE_SEARCH:return"";case S.SELECT_SUGGESTED_SEARCH_VALUE:case S.SET_SEARCH_INPUT_VALUE:case S.ACTIVATE_SUGGESTION_RESULT:return e.value;default:return t}}function p(t,e){switch(void 0===t&&(t=b),e.type){case S.FETCH_SEARCH_PANE_RESULTS:case S.UPDATE_WIDGET_OPTIONS:return b;case S.RECEIVE_SEARCH_PANE_RESULTS:return"searchSubpaneCatalog"!==e.widgetName?t:Object.assign({},t,{caption:E.i18n("searchSubpaneCatalogCaption"),items:e.items,allResultsCount:e.allResultsCount,allResultsText:E.i18n("searchSubpaneCatalogAllResults"),linkToFullSearch:e.widgetSearchOrigin+"/search/?q="+e.query+"&tab=catalog"});default:return t}}function d(t,e){switch(void 0===t&&(t=b),e.type){case S.FETCH_SEARCH_PANE_RESULTS:case S.UPDATE_WIDGET_OPTIONS:return b;case S.RECEIVE_SEARCH_PANE_RESULTS:return"searchSubpaneAllGovSites"!==e.widgetName?t:Object.assign({},t,{caption:E.i18n("searchSubpaneAllGovSitesCaption"),items:e.items,allResultsCount:e.allResultsCount,allResultsText:E.i18n("searchSubpaneAllGovSitesAllResults"),linkToFullSearch:e.widgetSearchOrigin+"/search/?q="+e.query});default:return t}}function f(t,e){switch(void 0===t&&(t=b),e.type){case S.FETCH_SEARCH_PANE_RESULTS:case S.UPDATE_WIDGET_OPTIONS:return b;case S.RECEIVE_SEARCH_PANE_RESULTS:return"searchSubpaneCurrentDomain"!==e.widgetName?t:Object.assign({},t,{caption:""+window.location.hostname,items:e.items,allResultsCount:e.allResultsCount,allResultsText:E.i18n("searchSubpaneCurrentDomainAllResults",{hostname:window.location.hostname}),linkToFullSearch:e.widgetSearchOrigin+"/search/?q="+e.query+"&tab=site&site="+window.location.hostname});default:return t}}function g(t,e){switch(void 0===t&&(t=[]),e.type){case S.OPEN_DROPDOWN:case S.SET_MENU_ITEMS:return[];case S.SET_MENU_PATH:return e.path;default:return t}}function m(t,e){switch(void 0===t&&(t="unknown"),e.type){case S.SET_LOCALE_LANGUAGE:return e.localeLanguage;default:return t}}function v(t,e){switch(void 0===t&&(t=[]),e.type){case S.SET_MENU_ITEMS:return e.items;default:return t}}function y(t,e){switch(void 0===t&&(t=!1),e.type){case S.COLLAPSE_MENU:return!0;case S.UNFOLD_MENU:case S.SET_MENU_ITEMS:return!1;default:return t}}function C(t,e){switch(void 0===t&&(t={}),e.type){case S.SET_PICKER_CONFIG:return Object.assign({},t,(n={},n[e.elementId]=e.config,n));default:return t}var n}var _=n(13),E=n(7),S=n(8),b={caption:"",items:[],allResultsCount:"",allResultsText:"",linkToFullSearch:""},w=_.combineReducers({openedDropdowns:i,needBackdrop:r,searchIsVisible:o,locationIsVisible:a,locationLabelText:s,dropdownSelectedIndex:c,searchSuggestResults:u,searchSuggestActiveResult:l,searchInputText:h,searchSubpanes:_.combineReducers({searchSubpaneCatalog:p,searchSubpaneAllGovSites:d,searchSubpaneCurrentDomain:f}),menuPath:g,localeLanguage:m,menuItems:v,menuIsCollapsed:y,pickerConfigs:C});Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=w},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=function(t){function e(e,n){t.call(this,e,n),this.inputValue="",this.handleSubmit=this.handleSubmit.bind(this),this.handleSubmitClick=this.handleSubmitClick.bind(this),this.renderAndSetEvents()}return i(e,t),e.prototype.renderAndSetEvents=function(){this.render(),this.setEvents()},e.prototype.setEvents=function(){var t=this,e=this.getComponentElement();e.byClass("search-submit").on("click",this.handleSubmitClick),e.byClass("search-bar_input").on("click",function(t){t.stopPropagation()}).on("keyup",function(e){t.handleKeyup(e)})},e.prototype.handleSubmitClick=function(t){t.stopPropagation(),this.handleSubmit()},e.prototype.handleSubmit=function(){var t=this.getInputField().value;t?this.trigger("submit",{value:t}):this.focusInputField()},e.prototype.focusInputField=function(){var t=this;setTimeout(function(){return t.getInputField().focus()})},e.prototype.getInputField=function(){return this.getComponentElement().byClass("search-bar_input")[0]},e.prototype.handleKeyup=function(t){switch(t.stopPropagation(),t.keyCode){case 38:this.trigger("prevSuggestion");break;case 40:this.trigger("nextSuggestion");break;case 27:this.trigger("escapeFromSearch");break;case 13:this.handleSubmit();break;case 39:break;default:var e=this.getInputField().value||"";if(this.inputValue===e)return;this.inputValue=e,this.trigger("valueChanged",{newValue:e})}},e.prototype.updateProps=function(t){var e=t.searchIsVisible,n=t.searchInputText,i=t.localeLanguage;if(this.localeLanguage!==i&&(this.localeLanguage=i,this.renderAndSetEvents()),e){var r=this.getInputField();this.inputValue!==n&&(this.inputValue=n,r.value=n),document.activeElement!==r&&this.focusInputField()}},e.prototype.render=function(){this.getComponentElement().html(o.render("search_bar",{inputText:""}))},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=n(63),s=function(t){function e(e,n){t.call(this,e,n),this.components={},this.isOpened=!1,this.handleClick=this.handleClick.bind(this),this.render(),this.attachSubpanes()}return i(e,t),e.prototype.attachSubpanes=function(){this.attachComponent("searchSubpaneCurrentDomain",new a.SearchSubpane("searchSubpaneCurrentDomain",this)),this.attachComponent("searchSubpaneAllGovSites",new a.SearchSubpane("searchSubpaneAllGovSites",this)),this.attachComponent("searchSubpaneCatalog",new a.SearchSubpane("searchSubpaneCatalog",this))},e.prototype.attachComponent=function(t,e){this.components[t]=e},e.prototype.getComponent=function(t){return this.components[t]},e.prototype.updateProps=function(t){var e=this.getComponentElement(),n=-1!==t.openedDropdowns.indexOf("search-pane");this.isOpened!==n&&(this.isOpened=n,n?e.addClass("search-pane__active"):e.removeClass("search-pane__active"));var i=this.components;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=o.updateProps;"function"==typeof a&&a.call(o,t)}this.getComponentElement().on("click",this.handleClick)},e.prototype.handleClick=function(t){t.stopPropagation()},e.prototype.render=function(){this.getComponentElement().html(o.render("search_pane"))},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=function(t){function e(e,n){t.call(this,e,n),this.elementId=e,this.props=null,this.handleClick=this.handleClick.bind(this),this.render()}return i(e,t),e.prototype.updateProps=function(t){var e=t.searchSubpanes[this.elementId];this.props!==e&&(this.props=e,this.render(),this.getComponentElement().byClass("js-subpane-link").on("click",this.handleClick))},e.prototype.handleClick=function(t){var e=t.original.currentTarget.href;window.location.assign(e)},e.prototype.render=function(){var t=this.getComponentElement();return this.props?(this.props.items.length>3&&(this.props.items.length=3),void t.html(o.render("search_subpane",this.props))):void t.html("")},e}(r.AbstractWidgetComponent);e.SearchSubpane=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),a=function(t){function e(e,n){var i=this;t.call(this,e,n),this.elementId=e,this.items=[],this.activeIndex=null,this.hoveredIndex=null,this.handleClick=function(t){t.stopPropagation();var e=t.target,n=e.getAttribute("data-value");i.trigger("suggestSelect",{value:n})},this.handleMouseLeave=function(t){i.handleHoverIndexChange(null)},this.handleMouseMove=function(t){var e=t.target,n=parseInt(e.getAttribute("data-index"),10);i.hoveredIndex!==n&&i.handleHoverIndexChange(n)},this.renderAndSetEvents()}return i(e,t),e.prototype.handleHoverIndexChange=function(t){this.hoveredIndex=t,this.trigger("hoverIndexChange",{index:t})},e.prototype.renderAndSetEvents=function(){this.render(),this.setEvents()},e.prototype.setEvents=function(){var t=this.getComponentElement();t.on("click",this.handleClick),t.on("mouseleave",this.handleMouseLeave),t.on("mousemove",this.handleMouseMove)},e.prototype.updateProps=function(t){var e=!1,n=t.searchSuggestResults,i=t.searchSuggestActiveResult;this.items!==n&&(this.items=n,e=!0),this.activeIndex!==i&&(this.activeIndex=i,e=!0),e&&this.render()},e.prototype.render=function(){this.getComponentElement().html(o.render("search_suggestor",{items:this.items,activeIndex:this.activeIndex}))},e}(r.AbstractWidgetComponent);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(5),o=n(68),a=n(6),s=n(1),c=n(7),u=n(2),l=n(69),h=n(20),p=n(18),d=n(57),f=n(19),g=n(58),m=n(50),v=n(61),y=n(64),C=n(62),_=n(54),E=n(51),S=n(55),b=n(9),w=n(70),T=n(4),O=n(8),I=function(t){function e(e){t.call(this),this.options=e,this.catalogCache=w.create(),this.catalogContainers=[],this.components={},this.trackerInstance=null,this.catalog=w.create(),this.screenMode=T.SCREEN_MODE.NORMAL,this.els={},this.isWidgetForbidden=!1;var n=e.store;this.options=this.refineOptions(this.options),this.dispatch=n.dispatch.bind(n),this.subscribeToStore=n.subscribe.bind(n),this.getState=n.getState.bind(n),this.dispatch(O.updateWidgetOptions(this.options)),this.handleIframeLoad=this.handleIframeLoad.bind(this)}return i(e,t),e.prototype.refineOptions=function(t){var e=Object.assign({},t);return e.menu&&(e.picker=null),T.SUPPORTED_THEMES[e.cssTheme]||(e.cssTheme="darkblue"),e},e.prototype.handleLocationLabelClick=function(){var t=this;this.handleCloseDropdown(""),setTimeout(function(){t.manager.onLocationLabelClick&&t.manager.onLocationLabelClick()},300)},e.prototype.initWidgetManager=function(){var t=this;this.manager={displayLocationButton:function(){t.dispatch(O.showLocation())},setLocationLabel:function(e){t.dispatch(O.setLocationLabel(e))},updateConfig:function(e){return t.updateConfig(e)}}},e.prototype.updateConfig=function(t){var e=this;return new Promise(function(n,i){var r=s.pick(t,["picker","language","menu"]);e.options=e.refineOptions(Object.assign({},e.options,r)),e.dispatch(O.updateWidgetOptions(e.options)),n()})},e.prototype.getManager=function(){return this.manager?this.manager:(this.initWidgetManager(),this.manager)},e.prototype.onCatalogRouterChange=function(t,e){var n,i,r=e.length;if("/"===t)n="json/catalog";else{var o=s.map(e,function(t){var e=t.split("_"),n=e[0],i=e[1],r=e[2];return{level:s.parseData(n),id:i+"_"+r}});i=this.catalog.get(o[o.length-1].id),n=i.link}this.animateCatalogColumns(r),this.catalogRenderBackButtons(),this.getCatalogContainer(r).empty(),this.catalogRenderSelected(e);var a=this.catalogCache.get(n),u={level:r,previous_path:s.preparePath(t),title:void 0};null==a.title&&(null!=i?u.title=i.title:0===r&&(u.title=c.i18n("Categories"))),Object.assign(u,a),this.catalogRenderList(u,r)},e.prototype.run=function(){var t=this;this.catalogRouter=new o.Router,this.catalogRouter.on("change",this.onCatalogRouterChange,this),this.iframe=a.create('<iframe title="Каталог государственных сайтов" scrolling="no" frameborder="0" allowtransparency="0"></iframe>'),this.updateIframeStyles(),this.iframe.on("load",this.handleIframeLoad),h.domReady().then(function(e){t.hostDocument=e,a.setStyle(e.body,{"margin-top":T.IFRAMESTYLE.height}),t.iframe.prependTo(e.body)})},e.prototype.handleStateChange=function(t,e){var n=this;void 0===e&&(e={}),this.updateLanguageOnStateChange(),this.updateComponentsPropsOnStateChange(),this.updateBodyStylesOnStateChange(),this.updateCatalogVisibilityOnStateChange(e.menuItems),this.updateFullScreenOnStateChange(),t.menuItems!==e.menuItems&&setTimeout(function(){return n.updateMenuFit()})},e.prototype.updateLanguageOnStateChange=function(){var t=this.getState().localeLanguage;c.getLocale()!==t&&(c.setLocale(t),this.dispatch(O.setPickerConfig("menuCiviPicker",[{text:this.options.menuTitle||c.i18n("Menu")}])),this.resetCatalog(),this.updateTemplateTranslations())},e.prototype.updateTemplateTranslations=function(){for(var t=this.iframeDoc[0].querySelectorAll("[data-translate]"),e=0;e<t.length;e++){var n=t.item(e);n.textContent=c.i18n(n.getAttribute("data-translate"))}},e.prototype.resetCatalog=function(){this.catalogCache=w.create(),this.generateCatalogContainers(4),this.catalogRouter.reset()},e.prototype.handleIframeLoad=function(){var t=this;this.iframe.off("load",this.handleIframeLoad),this.renderToDoc(u.render("main",this.options)),this.appendStylesheet(),this.collectElements(),this.generateCatalogContainers(4),this.initComponents(),this.updateStylesFromConfig(),this.setEvents(),this.handleWindowResize(),this.fullscreen(!0,this.getState().needBackdrop);var e,n=function(){var n=t.getState();if(n!==e){var i=e;e=n,t.handleStateChange(n,i)}};this.subscribeToStore(n),n(),this.trigger(T.WIDGET_EVENTS.INIT_SUCCESS),this.checkHostname()},e.prototype.checkHostname=function(){var t=this;b.checkHostname(window.location.hostname).then(function(e){var n=e.sitePermitted,i=e.siteId;return n?void(i&&(t.trackerSiteId=i)):void t.renderForbiddenWidget()},function(){setTimeout(function(){return t.renderForbiddenWidget()})})},e.prototype.renderForbiddenWidget=function(){this.renderToDoc(u.render("forbidden",this.options)),this.iframeDoc=null,this.isWidgetForbidden=!0},e.prototype.initComponents=function(){var t=this.options;this.attachComponent("mainCiviPicker",new p["default"]("mainCiviPicker",this)),this.dispatch(O.setPickerConfig("mainCiviPicker",t.picker)),this.attachComponent("mainCiviPickerFullWidth",new d["default"]("mainCiviPickerFullWidth",this)),this.dispatch(O.setPickerConfig("mainCiviPickerFullWidth",t.picker)),this.attachComponent("locationButton",new m["default"]("locationButton",this)),this.attachComponent("langCiviPicker",new f["default"]("langCiviPicker",this)),this.dispatch(O.setPickerConfig("langCiviPicker",t.language)),this.attachComponent("langCiviPickerFullWidth",new g["default"]("langCiviPickerFullWidth",this)),this.dispatch(O.setPickerConfig("langCiviPickerFullWidth",t.language)),this.attachComponent("searchBar",new v["default"]("searchBar",this)),this.attachComponent("searchSuggestor",new y["default"]("searchSuggestor",this)),this.attachComponent("searchPane",new C["default"]("searchPane",this)),this.attachComponent("menuPane",new _["default"]("mainMenu",this,{items:t.menu},this.dispatch)),this.attachComponent("menuCiviPicker",new p["default"]("menuCiviPicker",this)),this.dispatch(O.setPickerConfig("menuCiviPicker",[{text:t.menuTitle||c.i18n("Menu")}])),this.attachComponent("menuPickerFullWidth",new S["default"]("menuPickerFullWidth",this,{items:t.menu})),this.attachComponent("warningText",new E["default"]("warningText",this,{isVisible:t.isWarningText}))},e.prototype.getMainPaneWidth=function(){return this.els.mainPanel[0].offsetWidth},e.prototype.attachComponent=function(t,e){this.components[t]=e},e.prototype.getComponent=function(t){return this.components[t]},e.prototype.getComponentElement=function(){return this.iframeDoc},e.prototype.getComposer=function(){return this},e.prototype.updateComponentsPropsOnStateChange=function(){var t=this.components,e=this.getState();for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],r=i.updateProps;"function"==typeof r&&r.call(i,e)}},e.prototype.collectElements=function(){for(var t=["catalogCols","collapse","content","contentWrap","infoButton","mainCatalog","mainMenuText","mainPanel","menu","menu_list","menu_menulink","menu_toggle","searchLoupeButton","searchTeaser","statsInformation","underlay","warningText"],e=0;e<t.length;e++){var n=t[e];this.els[n]=this.iframeDoc.byId(n)}},e.prototype.handleMainCiviPickerIndexChange=function(t){var e=this.options.picker;if(e&&e[t]){var n=e[t];if(n.href)return void s.redirect(n.href);this.dispatch(O.setDropdownSelectedIndex("mainCiviPicker",t)),s.isFunction(n.onItemSelect)&&n.onItemSelect.call(null,n)}},e.prototype.handleLangPickerIndexChange=function(t){var e=this.options.language;if(e&&e.visible&&e.visible[t]&&(this.dispatch(O.setDropdownSelectedIndex("langCiviPicker",t)),s.isFunction(e.onChange))){var n=e.visible[t];e.onChange.call(null,n)}},e.prototype.handleCloseDropdown=function(t){this.dispatch(O.closeDropdown(t))},e.prototype.handleOpenDropdown=function(t){this.dispatch(O.openDropdown(t))},e.prototype.updateFullScreenOnStateChange=function(){var t=!!this.getState().openedDropdowns.length,e=this.screenMode===T.SCREEN_MODE.FULLSCREEN;t&&!e&&this.fullscreen(!0,this.getState().needBackdrop),!t&&e&&this.fullscreen(!1,!1)},e.prototype.updateBodyStylesOnStateChange=function(){var t=this.getState(),e=this.options;this.toggleBodyClass(e.menu&&e.menu.length>0,"has-menu"),this.toggleBodyClass(e.language&&e.language.visible&&e.language.visible.length>1,"has-language-picker"),this.toggleBodyClass(!e.disableSearch,"has-search"),this.toggleBodyClass(!e.disableSearch&&!!e.localSearch,"has-local-search"),this.toggleBodyClass(!(e.menu||e.picker||t.locationIsVisible),"has-search-teaser"),this.toggleBodyClass(t.searchIsVisible,"has-search-active"),this.toggleBodyClass(t.menuIsCollapsed,"has-collapsed-menu");var n="undefined"!=typeof e.marginLeft||"undefined"!=typeof e.marginRight;this.toggleBodyClass(!n,"has-autolayout"),this.toggleBodyClass(!!e.cssTheme,"theme-"+e.cssTheme)},e.prototype.updateStylesFromConfig=function(){var t=function(t,e,n,i,r){void 0===r&&(r=0);var o=this.options[n];"undefined"!=typeof o&&a.addCSSRule(t,e,i+": "+(o+r)+"px")}.bind(this,this.iframeDoc.byId("customStyles")[0].sheet);t(".main-panel","marginLeft","margin-left"),t(".main-panel","marginRight","margin-right"),t(".main-panel","maxWidth","max-width"),t(".content","marginLeft","left"),t(".content","marginRight","right"),t(".content","maxWidth","max-width")},e.prototype.handleSearchLoupeClick=function(t){t.stopPropagation(),this.dispatch(O.showSearch())},e.prototype.setEvents=function(){function t(e){return e&&(a.hasClass(e,"col")||a.hasClass(e,"search-pane"))?e:e.parentElement?t(e.parentElement):void 0}function e(t){t.stopPropagation();var e=a.closest(t.target,"a");e&&2!==t.which&&(t.preventDefault(),i.linkHandler(e,t))}var n=this,i=this;this.els.infoButton.on("click",function(t){t.preventDefault(),n.toggleCatalogInfo()}),this.els.contentWrap.on("click",e),this.els.infoButton.on("click",e),this.els.searchLoupeButton.on("click",function(t){return n.handleSearchLoupeClick(t)}),this.els.searchTeaser.on("click",function(t){return n.handleSearchLoupeClick(t)}),this.iframeDoc.on("click",function(t){if(3!=t.which){n.dispatch(O.handleIframeClick());var e={action:"close",url:window.location.origin};n.callReachGoal("Gosbar_emblem",e)}});var r;this.iframeDoc.on("touchstart",function(t){r=t.original.touches[0].pageY}),this.iframeDoc.on("touchmove",function(e){var n=t(e.target);if(n){var i=r-e.original.touches[0].pageY;r=e.original.touches[0].pageY,a.scrollElement(n,i/30)}}),this.iframeDoc.on("mousewheel",function(e){var n=t(e.target);n&&a.scrollElement(n,e.delta),e.stopPropagation()});var o=this.getComponent("mainCiviPicker");o&&o.on("open",function(t){var e=t.elementId;n.handleOpenDropdown(e)}).on("close",function(t){var e=t.elementId;n.handleCloseDropdown(e)}).on("indexChange",function(t){n.handleMainCiviPickerIndexChange(t)});var o=this.getComponent("mainCiviPickerFullWidth");o&&o.on("indexChange",function(t){n.handleMainCiviPickerIndexChange(t)});var o=this.getComponent("langCiviPicker");o&&o.on("open",function(t){var e=t.elementId;n.handleOpenDropdown(e)}).on("close",function(t){var e=t.elementId;n.handleCloseDropdown(e)}).on("indexChange",function(t){n.handleLangPickerIndexChange(t)});var o=this.getComponent("langCiviPickerFullWidth");o&&o.on("indexChange",function(t){n.handleLangPickerIndexChange(t)});var s=this.getComponent("locationButton");s&&s.on("click",function(){n.handleLocationLabelClick()});var c=this.getComponent("searchBar");c&&c.on("valueChanged",function(t){return n.handleSearchBarValueChange(t)}).on("submit",function(t){var e=t.value;return n.handleSearchBarSubmit(e)}).on("escapeFromSearch",function(){return n.dispatch(O.hideSearch())}).on("prevSuggestion",function(){return n.dispatch(O.selectPreviousSuggestion())}).on("nextSuggestion",function(){return n.dispatch(O.selectNextSuggestion())});var u=this.getComponent("searchSuggestor");u&&(u.on("suggestSelect",function(t){var e=t.value;return n.dispatch(O.selectSuggestedSearchValue(e))}),u.on("hoverIndexChange",function(t){var e=t.index;return n.dispatch(O.hoverSuggestionResult(e))}));var l=this.getComponent("menuPane");l&&l.on("pickerOpened",function(t){var e=t.elementId;n.handleOpenDropdown(e)}).on("pickerClosed",function(t){var e=t.elementId;n.handleCloseDropdown(e)});var h=this.getComponent("menuCiviPicker");h&&h.on("open",function(t){var e=t.elementId;n.handleOpenDropdown(e)}).on("close",function(t){var e=t.elementId;n.handleCloseDropdown(e)});var p=this.getComponent("menuPickerFullWidth");p&&p.on("pathChanged",function(t){n.dispatch(O.setMenuPath(t))}),this.els.collapse.on("click",function(t){t.stopPropagation(),n.collapseClickHandler(t)});var d=window.onresize;window.onresize=function(t){n.handleWindowResize(),d&&d(t)}},e.prototype.updateMenuFit=function(){var t=this;if(this.options.menu){var e=this.getComponent("menuPane");return e?void e.getWidth().then(function(e){var n=t.getMainPaneWidth(),i=t.options,r=0;i.language&&i.language.visible&&i.language.visible.length>1&&(r+=120),i.disableSearch||(r+=60),r+=t.components.locationButton.getComponentElement()[0].offsetWidth,r+=120;var o=n-r>e;o?t.dispatch(O.unfoldMenu()):t.dispatch(O.collapseMenu())}):void this.dispatch(O.unfoldMenu())}},e.prototype.trackSiteSearch=function(t){return window.Piwik?(console.log("out"),this.trackerInstance||(this.trackerInstance=window.Piwik.getTracker("//"+this.options.trackerHostname+"/",this.trackerSiteId)),void this.trackerInstance.trackSiteSearch(t)):void console.log("in")},e.prototype.handleSearchBarSubmit=function(t){var e=encodeURI(t),n=this.options.localSearch;return this.trackSiteSearch(e),n?void window.location.assign(n(e)):void this.dispatch(O.fetchSearchPaneResults(e,this.options.catalogOrigin))},e.prototype.handleSearchBarValueChange=function(t){var e=this,n=t.newValue;this.dispatch(O.setSearchInputValue(n)),b.getSearchSuggest(n).then(function(t){e.dispatch(O.setSearchSuggestResults({query:n,results:t}))})},e.prototype.toggleBodyClass=function(t,e){this.isWidgetForbidden||a.toggleClass(this.iframeDoc[0].body,e,t)},e.prototype.showSmallCatalog=function(t){t!==this.catalogIsSmall&&(this.catalogIsSmall=t,this.toggleBodyClass(t,"small-catalog"),this.animateCatalogColumns(),this.catalogRenderBackButtons())},e.prototype.getWindowHeight=function(){return s.isNumber(window.innerHeight)?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body&&document.body.clientHeight?document.body.clientHeight:0},e.prototype.getWindowWidth=function(){return document.documentElement.clientWidth},e.prototype.handleWindowResize=function(){this.resizeIframe();var t=this.getWindowWidth(),e=this.getWindowHeight();this.els.content.setStyle({height:e-118+"px"}),this.showSmallCatalog(800>t),this.updateMenuFit()},e.prototype.linkHandler=function(t,e){var n,i,r,o,c,u;r=t.getAttribute("href"),o=window.location+"",i=o.indexOf("#"),c=t.getAttribute("metric"),u=window.location.origin;var l="Gosbar_local",h={url:u};if(i>-1&&(o=o.substr(0,i)),n=r.substr(r.indexOf("#")+1),null==r||"#"!==r[0]&&r!==o+"#"+n)c&&("Gosbar_epgu_button"!=c&&(h.extUrl=n),this.callReachGoal(c,h)),s.redirect(r);else{this.catalogIsSmall&&a.hasClass(t,"back-history")&&(n=s.segmentUrl(n).slice(0,-1).join("/")||"/");var p=t.getAttribute("name_metric");p&&(h.name=p,this.callReachGoal(l,h)),this.catalogRouter.set(n)}},e.prototype.toggleCatalogInfo=function(){return this.catalogInfoToggle=!this.catalogInfoToggle,this.catalogRouter.set("/"),this.catalogInfoToggle?this.els.content.addClass("show-info"):this.els.content.removeClass("show-info")},e.prototype.collapseClickHandler=function(t){this.hasOpenedCatalog?this.dispatch(O.hideCatalog()):this.dispatch(O.showCatalog());var e={action:this.hasOpenedCatalog?"open":"close",url:window.location.origin};this.callReachGoal("Gosbar_emblem",e)},e.prototype.initYaCounter=function(t){!function(e,n,i){(n[i]=n[i]||[]).push(function(){try{n["yaCounter"+t]=new Ya.Metrika({id:t,enableAll:!0,trackHash:!0})}catch(e){}});var r=e.getElementsByTagName("script")[0],o=e.createElement("script"),a=function(){r.parentNode.insertBefore(o,r)};o.type="text/javascript",o.async=!0,o.src=("https:"==e.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==n.opera?e.addEventListener("DOMContentLoaded",a,!1):a()}(document,window,"yandex_metrika_callbacks")},e.prototype.callReachGoal=function(t,e){this.options.yaCounterId&&window["yaCounter"+this.options.yaCounterId].reachGoal(t,e)},e.prototype.createYaCounter=function(t){void 0===t&&this.options.yaCounterId&&this.initYaCounter(this.options.yaCounterId)},e.prototype.updateCatalogVisibilityOnStateChange=function(t){var e=this,n=-1!==this.getState().openedDropdowns.indexOf("catalog");this.createYaCounter(t),n!==this.hasOpenedCatalog&&(n&&this.catalogFillCacheAndStart(),null==this.catalogCollapseTransition&&(this.catalogCollapseTransition=new l.Transition(this.els.content)),n?(this.els.collapse.addClass("active"),this.els.content.addClass("show"),this.catalogCollapseTransition.animate({top:T.IFRAMESTYLE.height,height:this.getWindowHeight()-118+"px"})):(this.els.collapse.removeClass("active"),this.catalogCollapseTransition.animate({top:"0px",height:"0"},function(){n=-1!==e.getState().openedDropdowns.indexOf("catalog"),n||(e.els.content.removeClass("show"),e.animateCatalogColumns(0))})),this.hasOpenedCatalog=n)},e.prototype.animateCatalogColumns=function(t){"undefined"==typeof t&&(t=this.catalogRouter.getSegments().length),null==this.catalogColumnTransition&&(this.catalogColumnTransition=new l.Transition(this.els.catalogCols),this.catalogMainTransition=new l.Transition(this.els.mainCatalog)),
this.catalogMainTransition.animate({left:this.catalogIsSmall?-100*t+"%":50*(1-t)+"%"}),this.catalogColumnTransition.animate({left:this.catalogIsSmall?-100*(t-1)+"%":-50*(t-2)+"%"})},e.prototype.resizeIframe=function(){var t=this.screenMode===T.SCREEN_MODE.FULLSCREEN,e=this.getWindowWidth(),n=this.getWindowHeight(),i=document.documentElement,r=document.body,o=i&&i.scrollTop||r&&r.scrollTop||0;o>0&&--o;var a={};a.width=e+"px",a.height=t?n+"px":T.IFRAMESTYLE.height,t?(a.top=this.options.cssFixed?"0px":o+"px",a.left="0px"):(a.top=this.options.fixed&&!this.options.cssFixed?o+"px":"0px",a.left="0px"),this.updateIframeStyles(a)},e.prototype.updateIframeStyles=function(t){void 0===t&&(t={});var e=Object.assign({},T.IFRAMESTYLE,t);this.options.cssFixed&&(e.position="fixed"),this.iframe.setStyleAttr(e,!0)},e.prototype.fullscreen=function(t,e){var n=this;this.screenMode=t?T.SCREEN_MODE.FULLSCREEN:T.SCREEN_MODE.NORMAL,this.fullscreenTransition&&this.fullscreenTransition.stop(),null==this.fullscreenTransition&&(this.els.underlay.setStyle({opacity:"0"}),this.fullscreenTransition=new l.Transition(this.els.underlay,{duration:300})),t&&this.resizeIframe(),this.fullscreenTransition.animate({},function(){t||n.resizeIframe()})},e.prototype.generateCatalogContainers=function(t){this.catalogContainers=[],this.els.mainCatalog.empty(),this.els.catalogCols.empty();for(var e=0;t>=e;e+=1)this.getCatalogContainer(e)},e.prototype.createCatalogColumn=function(t){var e=a.create("<div class='col gen-level"+t+"'></div>");return e.setStyle({position:"absolute",left:100*(t-1)+"%"}),e},e.prototype.getCatalogContainer=function(t){if(0===t)null==this.catalogContainers[0]&&(this.catalogContainers[0]=this.els.mainCatalog);else if(null==this.catalogContainers[t]){var e=this.createCatalogColumn(t);this.catalogContainers[t]=e,e.appendTo(this.els.catalogCols[0])}return this.catalogContainers[t]},e.prototype.catalogRenderSelected=function(t){for(var e=this.catalogPrevRenderedSelected||[],n=e.length>t.length?e:t,i=0,r=n.length;r>i;i+=1)t[i]!==e[i]&&(this.iframeDoc.byId(t[i]).addClass("selected"),e[i]&&this.iframeDoc.byId(e[i]).removeClass("selected"));this.catalogPrevRenderedSelected=t},e.prototype.catalogRenderBackButtons=function(){var t=this.catalogRouter.getSegments(),e=t&&t.length||0,n=this.catalogContainers;this.catalogIsSmall?(n[0].removeClass("has-back"),n[1].addClass("has-back"),n[2].addClass("has-back")):(e>=1?n[0].addClass("has-back"):n[0].removeClass("has-back"),2===e&&n[1]?n[1].addClass("has-back"):n[1]&&n[1].removeClass("has-back"),n[2].removeClass("has-back"))},e.prototype.catalogRenderList=function(t,e){var n=u.render(t._type,t);this.getCatalogContainer(e).html(n)},e.prototype.catalogRenderStats=function(){var t=u.render("stats",{catalog:this.catalogCache.get("json/about"),portalURL:T.DEFAULT_SETTINGS.portalURL});this.els.statsInformation.html(t)},e.prototype.renderToDoc=function(t){var e=this.iframe[0].contentDocument||this.iframe[0].contentWindow.document;e.open(),e.write(t),e.close(),this.iframeDoc=a.create(e)},e.prototype.appendStylesheet=function(){var t=this,e=this.getComponentElement(),n=e[0],i=this.options.cssOrigin+"/widget/widget-style.css?fh=5beaf97e9fae22652910154ea6cc7647",r=n.getElementsByTagName("head")[0],o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=i,o.onload=function(){t.toggleBodyClass(!0,"css-loaded")},r.insertBefore(o,r.firstChild)},e.prototype.catalogFillCacheAndStart=function(){var t=this,e="json/catalog.json";this.catalogCache.get(e)?(this.catalogRenderStats(),this.catalogRouter.set("/")):b.getCatalog(c.getUiLocale()).then(function(n){t.catalogCache.set(e,n),t.catalogCache.set("json/about",n.about),t.fillCatalogCache("json/catalog",n.catalog),t.catalogRenderStats(),t.catalogRouter.set("/")})},e.prototype.fillCatalogCache=function(t,e){if(this.catalogCache.set(t,e),null!=e.items){this.catalog.setBulk(e.items);for(var n=0,i=e.items;n<i.length;n++){var r=i[n];null!=r.descendants&&this.fillCatalogCache(r.link,r.descendants)}}},e}(r.Abstract);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=I},function(t,e){function n(t,e,n,i,r){var o;"undefined"!=typeof XDomainRequest?(o=new XDomainRequest,o.open(e,t),o.onerror=r,o.onload=function(){i(o.responseText)},o.send(n)):XMLHttpRequest?(o=new XMLHttpRequest,"withCredentials"in o&&(o.open(e,t,!0),o.onerror=r,o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<400?i(o.responseText):r(new Error("Response returned with non-OK status")))},o.send(n))):r(new Error("CORS not supported"))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){var i=n(1),r=n(6),o=n(20),a=function(){function t(t){var e=this;void 0===t&&(t=[]),null===t&&(t=[]),i.isElement(t)&&(t=[t]),i.each(t,function(t,n){e[n]=t}),this.length=t.length}return t.prototype.first=function(){return this.nth(0)},t.prototype.last=function(){return this.nth(this.length-1)},t.prototype.nth=function(e){var n;return n=this[e],new t(n?n:[])},t.prototype.child=function(){var e=i.map(this,function(t){var e=[];return i.each(t.childNodes,function(t){return i.isElement(t)?e.push(t):void 0}),e});return new t(i.union.apply(this,e))},t.prototype.width=function(){var t;return(null!=(t=this[0])?t.offsetWidth:void 0)||0},t.prototype.height=function(){var t;return(null!=(t=this[0])?t.offsetHeight:void 0)||0},t.prototype.toArray=function(){return i.map(this,function(t){return t})},t.prototype.html=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.html.apply(this,[e].concat(t))}),this},t.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.remove.apply(this,[e].concat(t))}),this},t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.append.apply(this,[e].concat(t))}),this},t.prototype.prepend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.prepend.apply(this,[e].concat(t))}),this},t.prototype.empty=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.empty.apply(this,[e].concat(t))}),this},t.prototype.setStyle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.setStyle.apply(this,[e].concat(t))}),this},t.prototype.setStyleAttr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.setStyleAttr.apply(this,[e].concat(t))}),this},t.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){o.on.apply(this,[e].concat(t))}),this},t.prototype.off=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){o.off.apply(this,[e].concat(t))}),this},t.prototype.trigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){o.trigger.apply(this,[e].concat(t))}),this},t.prototype.addClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.addClass.apply(this,[e].concat(t))}),this},t.prototype.removeClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.each(this,function(e){r.removeClass.apply(this,[e].concat(t))}),this},t.prototype.getStyle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.getStyle.apply(this,[this[0]].concat(t)),this},t.prototype.offset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.offset.apply(this,[this[0]].concat(t)),this},t.prototype.appendTo=function(t){return i.each(this,function(e){return r.append(e,t)}),this},t.prototype.prependTo=function(t){return i.each(this,function(e){return r.prepend(e,t)}),this},t.prototype.closest=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return e.unshift(this[0]),new t(r.closest.apply(this,e))},t.prototype.next=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return e.unshift(this[0]),new t(r.next.apply(this,e))},t.prototype.prev=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return e.unshift(this[0]),new t(r.prev.apply(this,e))},t.prototype.byId=function(e){var n=i.map(this,function(t){return r.byId(e,t).toArray()});return new t(i.union.apply(this,n))},t.prototype.byClass=function(e){var n=i.map(this,function(t){return r.byClass(e,t).toArray()});return new t(i.union.apply(this,n))},t}();e.DomObj=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(5),a=function(t){function e(e){t.call(this),this.url=null,this.segments=[],r.isString(e)&&this.set(e)}return i(e,t),e.prototype.set=function(t){t=r.cleanUrl(t),this.url!==t&&(this.url=t,this.segments=r.segmentUrl(t),this.trigger("change",this.url,this.segments))},e.prototype.reset=function(){this.url=null,this.segments=[]},e.prototype.get=function(){return this.url},e.prototype.getSegments=function(){return this.segments},e.prototype.isEqual=function(t){return t=r.cleanUrl(t),this.url===t},e}(o.Abstract);e.Router=a},function(t,e,n){var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(6),a=n(5),s=({}.hasOwnProperty,!1),c=window.performance;c&&c.now&&(s=!0);var u=function(t){function e(e,n){if(t.call(this),this.is_animating=!1,this.defaults={delay:16,duration:300},this._valueRE=/(\-?\d+)(px|em|%|pt|ex)?/,null==e)throw Error("invalid elements");null==e.length&&(e=[e]),this.elements=e,this.options=Object.assign({},this.defaults,n)}return i(e,t),e.prototype.animate=function(t,e){this.animateFallback(t,e)},e.prototype.stop=function(){this.is_animating&&this.stopCallback&&this.stopCallback()},e.prototype.parseValue=function(t,e){var n,i,o;return"="===t[1]?(i="-"===e[0]||"+"===e[0],t=t.substring(2)):i=!1,n=this._valueRE.exec(t),n?(t=n[1],o=n[2]||null):o=null,r.isString(t)&&(t=parseFloat(t)),t||(t=0),{relative:i,value:t,type:o}},e.prototype.parseRule=function(t,e){var n;return e=r.camelCase(e),n=this.parseValue(t,e),{name:e,value:n.value,type:n.type,relative:n.relative}},e.prototype.parseCssRules=function(t){return r.map(t,function(t,e){return this.parseRule(t,e)},this)},e.prototype.getStartRules=function(t){return r.map(this.elements,function(e){return function(n){var i;return i={},r.each(t,function(t){i[t.name]=e.parseRule(o.getStyle(n,t.name),t.name)}),i}}(this))},e.prototype._setRules=function(t,e,n){return r.each(this.elements,function(i,a){var s=e[a];r.each(t,function(t){var e,r=s[t.name];e=t.relative?t.value*n:-(r.value-t.value)*n;var a=r.value+e,c=t.type||r.type||"";o.setStyle(i,t.name,""+a+c)})}),!0},e.prototype.animateFallback=function(t,e){var n,i=this;this.is_animating&&this.stop(),this.is_animating=!0,this.stopCallback=function(){clearInterval(n),i.stopCallback=null,i.is_animating=!1,i.trigger("end"),e&&e.apply(i.elements)};var r=s?c.now():Date.now(),o=this.options.duration,a=this.parseCssRules(t),u=this.getStartRules(a);n=setInterval(function(){var t=s?c.now():Date.now(),e=(t-r)/o;e>1&&(e=1),i._setRules(a,u,e),1===e&&i.stop()},this.options.delay),this.trigger("start")},e}(a.Abstract);e.Transition=u},function(t,e){function n(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function i(){return new a}var r=!1;"function"==typeof Object.create&&(n(Object.create(null))||(r=!0));var o=!1;"function"==typeof Map&&(o=!0),e.create=i;var a=function(){function t(){return o?void(this.cache=new Map):r?void(this.cache=Object.create(null)):void(this.cache={})}return t.prototype.set=function(t,e){return o?void this.cache.set(t,e):void(this.cache[t]=e)},t.prototype.get=function(t){return o?this.cache.get(t):this.cache[t]},t.prototype.setBulk=function(t){void 0===t&&(t=[]);for(var e=0;e<t.length;e++){var n=t[e];n.id&&this.set(n.id,n)}},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={main:n(30),catalog:n(22),catalog_section:n(23),info:n(28),description:n(26),stats:n(38),search_suggestor:n(37),civi_picker:n(24),civi_picker_full_width:n(25),location_button:n(29),search_bar:n(34),search_pane:n(35),search_subpane:n(36),menu_pane:n(32),menu_button:n(31),forbidden:n(27),menu_picker_full_width:n(33),warning:n(39)}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}}]);
})();
